/*
 Navicat Premium Data Transfer

 Source Server         : MySQL10
 Source Server Type    : MySQL
 Source Server Version : 80013
 Source Host           : localhost:3306
 Source Schema         : my_blog

 Target Server Type    : MySQL
 Target Server Version : 80013
 File Encoding         : 65001

 Date: 27/11/2019 13:59:50
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for article
-- ----------------------------
DROP TABLE IF EXISTS `article`;
CREATE TABLE `article`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `sub_content` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `content` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL,
  `publish_time` datetime(0) NULL DEFAULT NULL,
  `update_time` datetime(0) NULL DEFAULT NULL,
  `category` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `comment_num` int(11) NULL DEFAULT 0,
  `cid` int(11) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 9 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of article
-- ----------------------------
INSERT INTO `article` VALUES (1, '总结：c++几种容器的用法及栈和队列（适合自学c++的同学）', '    1.string类型用法       还可以比较大小如a>b,如果a的字典序大于b的返回1，否则返回0      getline(cin,s);读取一行string类型     string s2(s1)将s2初始化为s...', '<blockquote><h3><span>1.</span><span><span>string类型用法</span></span><br></h3><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" false\"=\"\"><img alt=\"\" src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly90aW1nc2EuYmFpZHUuY29tL3RpbWc_aW1hZ2UmcXVhbGl0eT04MCZzaXplPWI5OTk5XzEwMDAwJnNlYz0xNTUzNzg2NTMzMzU5JmRpPWRmMWRhNjBjMmRiMDE3ZDhiZjI1Yjc2ZjMyN2QyY2IwJmltZ3R5cGU9MCZzcmM9aHR0cCUzQSUyRiUyRmItc3NsLmR1aXRhbmcuY29tJTJGdXBsb2FkcyUyRml0ZW0lMkYyMDE2MDMlMkYyNSUyRjIwMTYwMzI1MTU1ODEzX3NXZW5tLnRodW1iLjcwMF8wLmpwZWc?x-oss-process=image/format,png\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p></blockquote><blockquote><h3><strong>还可以比较大小如a&gt;b,如果a的字典序大于b的返回1，否则返回0</strong></h3><p><span><span>getline(cin,s);读取一行string类型<br>string s2(s1)将s2初始化为s1的副本<br>或m=\"123\";m+=\"456\";cout&lt;&lt;m输出123465。<br>cin&gt;&gt;s;<br>cin遇到空格就停止！！！<br>string(string &amp;s)<br>{<br>&nbsp;&nbsp;&nbsp; string ans=s;(一等公民，可直接赋值)<br>&nbsp;&nbsp;&nbsp; &gt;....;<br>&nbsp;&nbsp;&nbsp; return ans;//可以返回string，不和数组一样，即使返回了也不能接收<br>清空用.clear()//清空状态;.str(\"\");//清空内容 int型转为string型<br>}<br>a.length()或a.size()<br>a.empty()空则返回1</span><br><span>关系操作可进行大小比较</span></span></p><h3><br><strong><span><span>字串操作s.substr(pos,n)它包含从下标pos开始的n个字符，在LCG中常用<br>s.find(n)在s中查找n的第一次出现<br>s.rfind(n)在s中查找n的最后一次出现！！！</span></span></strong></h3><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>#<span>include</span> <span>\"iostream\"</span></span><span>#<span>include</span> <span>\"map\"</span></span><span>using</span> <span>namespace</span> <span>std</span>;<span>map</span>&lt;<span>char</span>,<span>string</span>&gt; mp;<span><span>int</span> <span>main</span><span>()</span></span>{	<span>string</span> s;	<span>cin</span>&gt;&gt;s;	<span>string</span> n=s.substr(<span>2</span>,<span>10</span>);	<span>int</span> a=s.find(<span>\"gds\"</span>);	<span>int</span> b=s.rfind(<span>\"adsds\"</span>);	<span>cout</span>&lt;&lt;n&lt;&lt;<span>endl</span>&lt;&lt;a&lt;&lt;<span>endl</span>&lt;&lt;b;	<span>return</span> <span>0</span>;} <span>//对于使用find函数判断子序列，就不需要使用KMP或字符串匹配算法</span><span>//find返回索引，没找到返回零</span><span>//对于substr,第一个参数是索引，第二个是返回字符长度</span><span>//对于超过了的长度，substr默认返回最大的长度</span></code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190328200608141.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"773\" height=\"261\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span><br><span><span>string m(\"123465\")；<br>&nbsp;int n=m.find(\'6\');<br>&nbsp;cout&lt;&lt;n;输出4<br>可惜不支持count操作</span></span></p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>//在c++中，string直接的赋值是完全没问题的。可以进行完全覆盖！！！如下</span><span>string</span> str;<span><span>void</span> <span>change</span><span>(<span>int</span> pos)</span></span>{    str.clear();    <span>string</span> temp = s.substr(pos);    str += temp;    temp = s.substr(<span>0</span>,pos);    str += temp;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>#<span>include</span> <span>\"iostream\"</span></span><span>#<span>include</span> <span>\"string\"</span></span><span>using</span> <span>namespace</span> <span>std</span>;<span><span>int</span> <span>main</span><span>()</span></span>{	<span>string</span> m;	<span>cin</span>&gt;&gt;m;	<span>cout</span>&lt;&lt;m&lt;&lt;<span>endl</span>;	<span>cin</span>&gt;&gt;m;	<span>cout</span>&lt;&lt;m&lt;&lt;<span>endl</span>;	<span>return</span> <span>0</span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>如上，string反复输入，是没有问题的！！！&nbsp;</h3><h3>类似java中数组的用法，属于引用</h3><h3>输入123，输出123，在输入456，输出456；</h3><p><br></p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span><span>int</span> <span>main</span><span>()</span></span>{		<span>string</span> str;	<span>cin</span>&gt;&gt;str;	reverse(str.begin(),str.end());	<span>cout</span>&lt;&lt;str;	<span>return</span> <span>0</span>;}<span>//字符串逆置函数</span></code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><br></p></blockquote><blockquote><h3><span><span>2.vector用法及注意</span></span></h3></blockquote><blockquote><p><span><span>v.insert(p,t)在迭代器p所指向元素前面插入值为t的新元素，返回指向新添加元素的迭代器<br>初始化：vector&lt;int&gt;v1(n)，v1是含有值初始化的n个副本<br>vector&lt;int&gt;v2(v1)，v2是v1的副本<br>可以v2=v1,即使两者都赋值<br>vector对象的操作<br>vector &lt;int&gt;a;<br>a.size();<br>a.clear()清空<br>resize（n）改变大小<br>如果n&lt;a.size（），则删除多出来的元素否则采用值初始化的新元素<br>a.erase(p)删除迭代器所指向的元素，返回被删除元素后面一个的元素的迭代器<br>a1==a2返回true<br>输入push_back()和pop_back()在尾部添加和删除元素，用empty（）测试是否为空<br>vector&lt;int&gt;v1,v2;<br>&nbsp;&nbsp;&nbsp; v1.push_back(3);<br>&nbsp;&nbsp;&nbsp; v2.push_back(4);<br>&nbsp;&nbsp;&nbsp; v2.push_back(5);<br>&nbsp;&nbsp;&nbsp; v2=v1;<br>&nbsp;&nbsp;&nbsp; cout&lt;&lt;v2[0];<br>&nbsp;&nbsp;&nbsp; cout&lt;&lt;v2[1];<br>输出35！！！<br>不可进行加法操作<br>输出1.迭代器 2.下标法</span></span></p></blockquote><blockquote><h3><span><span>3.set用法及注意</span></span></h3></blockquote><blockquote><p><span><span>每个元素最多出现一次，并在内部会进行排序<br>输入：set&lt;int&gt; s<br>s.insert(item);<br>注意可以重复<br>输出只能使用迭代器<br>.count()返回数量<br>.find(k)如果容器中存在按k索引的元素，则返回指向该元素的迭代器，如果不存在返回超出末端迭代器<br>.erase(k)删除容器中键为k的元素</span></span></p></blockquote><blockquote><h3><span><span>4.map用法及注意</span></span></h3></blockquote><blockquote><h3>也是可以clear的<span><span>.</span></span></h3><h3><span><span>map&lt;char,char&gt;或map&lt;char,int&gt;</span></span></h3><h3><span>如果开始没有对应的键值，默认返回0！！！！！！！！！</span></h3><p><span><span>count()返回数量<br>.find(k)如果容器中存在按k索引的元素，则返回指向该元素的迭代器，如果不存在返回超出末端迭代器<br>.erase(k)删除容器中键为k的元素<br>注意可以重复如：m[\"123\"]=2,m[\"123\"]=4没毛病 如：cout&lt;&lt;m[\"456\"]也不报错默认为0</span></span></p></blockquote><blockquote><h3><span><span>5.STL中几种函数用法</span></span></h3></blockquote><blockquote><p><span><span>int a[],sort（a,a+n）;或vector &lt;int&gt;a,sort(a.begin(),a.end())头文件为algorithm<br>lower_bound的作用查找“大于或者等于x的第一个位置lower_bound（a,a+n,x）返回地址，用下标减去a”<br>string s;<br>stringstream ss(s);就是把s全部赋值到ss这个流里面<br>while(ss&gt;&gt;buf)dict.insert(buf)遇到空格截取一段放进set里</span></span></p></blockquote><blockquote><h3><span><span>6.栈的几种用法stack</span></span></h3></blockquote><blockquote><p><span><span>s.empty()<br>s.size()<br>s.pop()删除栈顶的元素<br>s.top()返回栈顶的值，不删除元素<br>s.push(item)在栈顶压入新元素(后进先出)<br>&nbsp;&nbsp;&nbsp; 队列和优先级队列<br>queue（先进先出）<br>priority定义priority_queue&lt;int vector &lt;int&gt;,greater&lt;int&gt; &gt; 头文件queue<br>q.empty()<br>q.size()<br>q.pop()删除队首的值<br>q.front()返回队首的值只使用于队列<br>q.back()返回队尾的值只使用于队列<br>q.top()返回具有最高优先级的元素，只使用于优先级队列<br>q.push(item)在队尾压入新元素，基于优先级则随机应变</span></span></p></blockquote><blockquote><h3><span><span>7.迭代器用法</span></span></h3></blockquote><blockquote><p><span><span>for(set&lt;string&gt;::iterator it=dict.begin();it!=dict.begin();it++)<br>cout&lt;&lt;*it&lt;&lt;\"\\n\";</span></span></p></blockquote><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre#\') break;=\"\" \\n=\"\" words.push_back(s);=\"\" 存入vector=\"\" string=\"\" r=\"repr(s);\" if(!cnt.count(r))=\"\" cnt[r]=\"0;\" cnt[r]++;=\"\" }=\"\" vector&amp;lt;string&amp;gt;=\"\" ans;=\"\" for(int=\"\" i=\"0;i&amp;lt;words.size();i++)\" if(cnt[repr(words[i])]=\"=1)\" ans.push_back(words[i]);=\"\" sort(ans.begin(),ans.end());=\"\" cout&amp;lt;&amp;lt;ans[i]&amp;lt;&amp;lt;endl;=\"\" return=\"\" 0;=\"\" \\n}=\"\" \\n\\n&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}\"=\"\"><code><span>8.</span>几个实例Ananagyram<span>#<span>include</span> <span>&lt;iostream&gt; </span></span><span>#<span>include</span> <span>&lt;cstring&gt; </span></span><span>#<span>include</span> <span>&lt;cctype&gt; </span></span><span>#<span>include</span> <span>&lt;vector&gt; </span></span><span>#<span>include</span> <span>&lt;map&gt; </span></span><span>#<span>include</span> <span>&lt;algorithm&gt; </span></span><span>using</span> <span>namespace</span> <span>std</span>;  <span>map</span>&lt;<span>string</span>,<span>int</span>&gt; cnt; <span>vector</span>&lt;<span>string</span>&gt; words;  <span><span>string</span> <span>repr</span><span>(<span>const</span> <span>string</span>&amp; s)</span> <span>//把单词标准化，即大写变小写，排序 </span></span>{     <span>string</span> ans=s;  <span>//借用第三方变量进行转换，使最终输出时还能保留大写部分。 </span>    <span>for</span>(<span>int</span> i=<span>0</span>;i&lt;ans.length();i++) ans[i]=<span>tolower</span>(ans[i]); <span>//ps：toupper()是将小写转大写 </span>    sort(ans.begin(),ans.end());     <span>return</span> ans; } <span><span>int</span> <span>main</span><span>()</span> </span>{     <span>int</span> n=<span>0</span>;<span>string</span> s;     <span>while</span>(<span>cin</span>&gt;&gt;s)     {         <span>if</span>(s[<span>0</span>]==<span>\'#\'</span>) <span>break</span>;         words.push_back(s); <span>//存入vector </span>        <span>string</span> r=repr(s);         <span>if</span>(!cnt.count(r)) cnt[r]=<span>0</span>;         cnt[r]++;     }     <span>vector</span>&lt;<span>string</span>&gt; ans;     <span>for</span>(<span>int</span> i=<span>0</span>;i&lt;words.size();i++)        <span>if</span>(cnt[repr(words[i])]==<span>1</span>) ans.push_back(words[i]);     sort(ans.begin(),ans.end());    <span>for</span>(<span>int</span> i=<span>0</span>;i&lt;ans.size();i++) <span>cout</span>&lt;&lt;ans[i]&lt;&lt;<span>endl</span>;    <span>return</span> <span>0</span>; } </code><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></pre#\')></div><h3>&nbsp;以上是我自己总结的笔记，全都运行过的应该没问题！</h3>', '2018-11-26 18:22:38', '2019-11-26 18:22:38', 'C++', 0, 1);
INSERT INTO `article` VALUES (2, 'Selenium学习&资料汇总', '资源分享  https://blog.csdn.net/qingchunjun/article/details/42581261     https://www.jianshu.com/p/20526e2ac3b1 ...', '<blockquote><h3><a href=\"https://blog.csdn.net/qingchunjun/article/details/42581261\">https://blog.csdn.net/qingchunjun/article/details/42581261</a><br></h3><h3><a href=\"https://www.jianshu.com/p/20526e2ac3b1\">https://www.jianshu.com/p/20526e2ac3b1</a></h3><h3><a href=\"https://www.jianshu.com/p/3bbef15877e5\">https://www.jianshu.com/p/3bbef15877e5</a></h3><h3><a href=\"https://www.jianshu.com/p/f74a0a35b3b4\">https://www.jianshu.com/p/f74a0a35b3b4</a><br></h3></blockquote><blockquote><h3><a href=\"https://blog.csdn.net/lmarster/article/category/7791544\">https://blog.csdn.net/lmarster/article/category/7791544</a></h3><h3>这位朋友牛逼了！！！Selenium3自动化+Java系列都写的相当好！！！</h3></blockquote>', '2019-08-26 18:35:07', '2019-11-26 18:35:07', 'Selenium学习', 0, 2);
INSERT INTO `article` VALUES (3, 'javaEE--实验14-16报告    17045120刘志远', '实验15-16综合实验包含了实验报告14的spring基础编程，这里将综合实验过程展示。 1、ssm框架搭建      1)、这里使用maven进行项目管理，导入spring+springmvc+mybatis等相关依赖包      pom.xml      ', '<p></p><p>实验15-16综合实验包含了实验报告14的spring基础编程，这里将综合实验过程展示。<br></p><h2>1、ssm框架搭建</h2><blockquote><h3>1)、这里使用maven进行项目管理，导入spring+springmvc+mybatis等相关依赖包<br></h3><p>pom.xml</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pres website=\"\" --&amp;gt;\\n=\"\" &amp;lt;url&amp;gt;http:=\"\" www.example.com&amp;lt;=\"\" url&amp;gt;\\n\\n=\"\" &amp;lt;properties&amp;gt;\\n=\"\" &amp;lt;project.build.sourceencoding&amp;gt;utf-8&amp;lt;=\"\" project.build.sourceencoding&amp;gt;\\n=\"\" &amp;lt;maven.compiler.source&amp;gt;1.7&amp;lt;=\"\" maven.compiler.source&amp;gt;\\n=\"\" &amp;lt;maven.compiler.target&amp;gt;1.7&amp;lt;=\"\" maven.compiler.target&amp;gt;\\n=\"\" &amp;lt;!--=\"\" 设置项目编码编码=\"\" &amp;lt;project.reporting.outputencoding&amp;gt;utf-8&amp;lt;=\"\" project.reporting.outputencoding&amp;gt;\\n=\"\" spring版本号=\"\" &amp;lt;spring.version&amp;gt;4.3.5.release&amp;lt;=\"\" spring.version&amp;gt;\\n=\"\" mybatis版本号=\"\" &amp;lt;mybatis.version&amp;gt;3.4.1&amp;lt;=\"\" mybatis.version&amp;gt;\\n=\"\" jstl版本号=\"\" &amp;lt;jstl.version&amp;gt;1.2&amp;lt;=\"\" jstl.version&amp;gt;\\n=\"\" &amp;lt;=\"\" properties&amp;gt;\\n\\n=\"\" &amp;lt;dependencies&amp;gt;\\n=\"\" java=\"\" ee=\"\" &amp;lt;dependency&amp;gt;\\n=\"\" &amp;lt;groupid&amp;gt;javax&amp;lt;=\"\" groupid&amp;gt;\\n=\"\" &amp;lt;artifactid&amp;gt;javaee-api&amp;lt;=\"\" artifactid&amp;gt;\\n=\"\" &amp;lt;version&amp;gt;7.0&amp;lt;=\"\" version&amp;gt;\\n=\"\" dependency&amp;gt;\\n\\n=\"\" 单元测试=\"\" &amp;lt;groupid&amp;gt;junit&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;junit&amp;lt;=\"\" &amp;lt;version&amp;gt;4.12&amp;lt;=\"\" 实现slf4j接口并整合=\"\" &amp;lt;groupid&amp;gt;ch.qos.logback&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;logback-classic&amp;lt;=\"\" &amp;lt;version&amp;gt;1.2.2&amp;lt;=\"\" json=\"\" &amp;lt;groupid&amp;gt;com.fasterxml.jackson.core&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;jackson-databind&amp;lt;=\"\" &amp;lt;version&amp;gt;2.8.7&amp;lt;=\"\" 数据库=\"\" &amp;lt;groupid&amp;gt;mysql&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;mysql-connector-java&amp;lt;=\"\" &amp;lt;version&amp;gt;8.0.15&amp;lt;=\"\" 数据库连接池=\"\" &amp;lt;groupid&amp;gt;com.mchange&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;c3p0&amp;lt;=\"\" &amp;lt;version&amp;gt;0.9.5.2&amp;lt;=\"\" mybatis=\"\" &amp;lt;groupid&amp;gt;org.mybatis&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;mybatis&amp;lt;=\"\" &amp;lt;version&amp;gt;${mybatis.version}&amp;lt;=\"\" spring整合包=\"\" &amp;lt;artifactid&amp;gt;mybatis-spring&amp;lt;=\"\" &amp;lt;version&amp;gt;1.3.1&amp;lt;=\"\" spring=\"\" &amp;lt;groupid&amp;gt;org.springframework&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;spring-core&amp;lt;=\"\" &amp;lt;version&amp;gt;${spring.version}&amp;lt;=\"\" dependency&amp;gt;\\n=\"\" &amp;lt;artifactid&amp;gt;spring-beans&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;spring-context&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;spring-jdbc&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;spring-tx&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;spring-web&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;spring-webmvc&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;spring-test&amp;lt;=\"\" jsp相关=\"\" &amp;lt;groupid&amp;gt;jstl&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;jstl&amp;lt;=\"\" &amp;lt;version&amp;gt;${jstl.version}&amp;lt;=\"\" dependencies&amp;gt;\\n\\n=\"\" &amp;lt;build&amp;gt;\\n=\"\" &amp;lt;finalname&amp;gt;liuyishou&amp;lt;=\"\" finalname&amp;gt;\\n=\"\" &amp;lt;pluginmanagement&amp;gt;&amp;lt;!--=\"\" lock=\"\" down=\"\" plugins=\"\" versions=\"\" to=\"\" avoid=\"\" using=\"\" maven=\"\" defaults=\"\" (may=\"\" be=\"\" moved=\"\" parent=\"\" pom)=\"\" &amp;lt;plugins&amp;gt;\\n=\"\" &amp;lt;plugin&amp;gt;\\n=\"\" &amp;lt;artifactid&amp;gt;maven-clean-plugin&amp;lt;=\"\" &amp;lt;version&amp;gt;3.1.0&amp;lt;=\"\" plugin&amp;gt;\\n=\"\" see=\"\" http:=\"\" maven.apache.org=\"\" ref=\"\" current=\"\" maven-core=\"\" default-bindings.html#plugin_bindings_for_war_packaging=\"\" &amp;lt;artifactid&amp;gt;maven-resources-plugin&amp;lt;=\"\" &amp;lt;version&amp;gt;3.0.2&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;maven-compiler-plugin&amp;lt;=\"\" &amp;lt;version&amp;gt;3.8.0&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;maven-surefire-plugin&amp;lt;=\"\" &amp;lt;version&amp;gt;2.22.1&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;maven-war-plugin&amp;lt;=\"\" &amp;lt;version&amp;gt;3.2.2&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;maven-install-plugin&amp;lt;=\"\" &amp;lt;version&amp;gt;2.5.2&amp;lt;=\"\" &amp;lt;artifactid&amp;gt;maven-deploy-plugin&amp;lt;=\"\" &amp;lt;version&amp;gt;2.8.2&amp;lt;=\"\" plugins&amp;gt;\\n=\"\" pluginmanagement&amp;gt;\\n=\"\" &amp;lt;resources&amp;gt;\\n=\"\" &amp;lt;!--只是在target生成xml文件，否则生成不了--&amp;gt;\\n=\"\" &amp;lt;resource&amp;gt;\\n=\"\" &amp;lt;directory&amp;gt;src=\"\" main=\"\" java&amp;lt;=\"\" directory&amp;gt;\\n=\"\" &amp;lt;includes&amp;gt;\\n=\"\" &amp;lt;include&amp;gt;mapper=\"\" *.xml&amp;lt;=\"\" include&amp;gt;\\n=\"\" includes&amp;gt;\\n=\"\" resource&amp;gt;\\n=\"\" resources&amp;gt;\\n=\"\" build&amp;gt;\\n&amp;lt;=\"\" project&amp;gt;\\n&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}\"=\"\"><code>&lt;?xml version=<span>\"1.0\"</span> encoding=<span>\"UTF-8\"</span>?&gt;&lt;project xmlns=<span>\"http://maven.apache.org/POM/4.0.0\"</span> xmlns:xsi=<span>\"http://www.w3.org/2001/XMLSchema-instance\"</span>  xsi:schemaLocation=<span>\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"</span>&gt;  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  &lt;groupId&gt;com&lt;/groupId&gt;  &lt;artifactId&gt;liuyishou&lt;/artifactId&gt;  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;  &lt;packaging&gt;war&lt;/packaging&gt;  &lt;name&gt;liuyishou Maven Webapp&lt;/name&gt;  &lt;!-- FIXME change it to the project<span>\'s website --&gt;  &lt;url&gt;http://www.example.com&lt;/url&gt;  &lt;properties&gt;    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;    &lt;!-- 设置项目编码编码 --&gt;    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;    &lt;!-- spring版本号 --&gt;    &lt;spring.version&gt;4.3.5.RELEASE&lt;/spring.version&gt;    &lt;!-- mybatis版本号 --&gt;    &lt;mybatis.version&gt;3.4.1&lt;/mybatis.version&gt;    &lt;!-- jstl版本号 --&gt;    &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;  &lt;/properties&gt;  &lt;dependencies&gt;    &lt;!-- java ee --&gt;    &lt;dependency&gt;      &lt;groupId&gt;javax&lt;/groupId&gt;      &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;      &lt;version&gt;7.0&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- 单元测试 --&gt;    &lt;dependency&gt;      &lt;groupId&gt;junit&lt;/groupId&gt;      &lt;artifactId&gt;junit&lt;/artifactId&gt;      &lt;version&gt;4.12&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- 实现slf4j接口并整合 --&gt;    &lt;dependency&gt;      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;      &lt;version&gt;1.2.2&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- JSON --&gt;    &lt;dependency&gt;      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;      &lt;version&gt;2.8.7&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- 数据库 --&gt;    &lt;dependency&gt;      &lt;groupId&gt;mysql&lt;/groupId&gt;      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;      &lt;version&gt;8.0.15&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- 数据库连接池 --&gt;    &lt;dependency&gt;      &lt;groupId&gt;com.mchange&lt;/groupId&gt;      &lt;artifactId&gt;c3p0&lt;/artifactId&gt;      &lt;version&gt;0.9.5.2&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- MyBatis --&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;      &lt;artifactId&gt;mybatis&lt;/artifactId&gt;      &lt;version&gt;${mybatis.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- mybatis/spring整合包 --&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;      &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;      &lt;version&gt;1.3.1&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- Spring --&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework&lt;/groupId&gt;      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;      &lt;version&gt;${spring.version}&lt;/version&gt;    &lt;/dependency&gt;    &lt;!-- JSP相关 --&gt;    &lt;dependency&gt;      &lt;groupId&gt;jstl&lt;/groupId&gt;      &lt;artifactId&gt;jstl&lt;/artifactId&gt;      &lt;version&gt;${jstl.version}&lt;/version&gt;    &lt;/dependency&gt;  &lt;/dependencies&gt;  &lt;build&gt;    &lt;finalName&gt;liuyishou&lt;/finalName&gt;    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;      &lt;plugins&gt;        &lt;plugin&gt;          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;          &lt;version&gt;3.1.0&lt;/version&gt;        &lt;/plugin&gt;        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;        &lt;plugin&gt;          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;          &lt;version&gt;3.0.2&lt;/version&gt;        &lt;/plugin&gt;        &lt;plugin&gt;          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;          &lt;version&gt;3.8.0&lt;/version&gt;        &lt;/plugin&gt;        &lt;plugin&gt;          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;          &lt;version&gt;2.22.1&lt;/version&gt;        &lt;/plugin&gt;        &lt;plugin&gt;          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;          &lt;version&gt;3.2.2&lt;/version&gt;        &lt;/plugin&gt;        &lt;plugin&gt;          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;          &lt;version&gt;2.5.2&lt;/version&gt;        &lt;/plugin&gt;        &lt;plugin&gt;          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;          &lt;version&gt;2.8.2&lt;/version&gt;        &lt;/plugin&gt;      &lt;/plugins&gt;    &lt;/pluginManagement&gt;    &lt;resources&gt;      &lt;!--只是在target生成xml文件，否则生成不了--&gt;      &lt;resource&gt;        &lt;directory&gt;src/main/java&lt;/directory&gt;        &lt;includes&gt;          &lt;include&gt;mapper/*.xml&lt;/include&gt;        &lt;/includes&gt;      &lt;/resource&gt;    &lt;/resources&gt;  &lt;/build&gt;&lt;/project&gt;</span></code><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></pres></div><h3>maven工程骨架：</h3><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/2019111610070956.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"215\" height=\"619\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><h3>2、配置spring，mybatis，springMVC，web配置文件</h3><p>web.xml</p><p>这里添加编码过滤器，不添加，中文传至服务器端出现乱码问题</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code>&lt;?xml version=<span>\"1.0\"</span> encoding=<span>\"UTF-8\"</span>?&gt;&lt;web-app xmlns:xsi=<span>\"http://www.w3.org/2001/XMLSchema-instance\"</span>         xmlns=<span>\"http://java.sun.com/xml/ns/javaee\"</span>         xmlns:web=<span>\"http://java.sun.com/xml/ns/javaee\"</span>         xsi:schemaLocation=<span>\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"</span> version=<span>\"2.5\"</span>&gt;  &lt;!-- 编码过滤器(添加这段代码解决编码问题) --&gt;  &lt;filter&gt;    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;    &lt;init-param&gt;      &lt;param-name&gt;encoding&lt;/param-name&gt;      &lt;param-value&gt;UTF-8&lt;/param-value&gt;    &lt;/init-param&gt;    &lt;init-param&gt;      &lt;param-name&gt;forceEncoding&lt;/param-name&gt;      &lt;param-value&gt;<span>true</span>&lt;/param-value&gt;    &lt;/init-param&gt;  &lt;/filter&gt;  &lt;filter-mapping&gt;    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  &lt;/filter-mapping&gt;  &lt;!-- spring的配置文件--&gt;  &lt;context-param&gt;    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;    &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;  &lt;/context-param&gt;  &lt;listener&gt;    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;  &lt;/listener&gt;  &lt;!-- spring mvc核心：分发servlet --&gt;  &lt;servlet&gt;    &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;    &lt;!-- spring mvc的配置文件 --&gt;    &lt;init-param&gt;      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;      &lt;param-value&gt;classpath:springMVC.xml&lt;/param-value&gt;    &lt;/init-param&gt;    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  &lt;/servlet&gt;  &lt;servlet-mapping&gt;    &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;    &lt;url-pattern&gt;/&lt;/url-pattern&gt;  &lt;/servlet-mapping&gt;&lt;/web-app&gt;</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>applicationContext.xml</p><p>其中mybatis配置文件也注入到该xml文件，已经配置了数据库相关连接</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code>&lt;?xml version=<span>\"1.0\"</span> encoding=<span>\"UTF-8\"</span>?&gt;&lt;beans xmlns=<span>\"http://www.springframework.org/schema/beans\"</span>       xmlns:xsi=<span>\"http://www.w3.org/2001/XMLSchema-instance\"</span>       xmlns:jdbc=<span>\"http://www.springframework.org/schema/jdbc\"</span>       xmlns:context=<span>\"http://www.springframework.org/schema/context\"</span>       xsi:schemaLocation=<span>\"http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd     http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd     http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd\"</span>&gt;    &lt;context:annotation-config /&gt;&lt;!-- 以上一行一定加上，表示spring在其它地方的注解也能正确识别，比如其他地方需要注入之类的&lt; context:annotation-config /&gt;：仅能够在已经在已经注册过的bean上面起作用。对于没有在spring容器中注册的bean，它并不能执行任何操作。 --&gt;    &lt;context:component-scan base-package=<span>\"service\"</span> /&gt;    &lt;bean id=<span>\"dataSource\"</span> class=<span>\"org.springframework.jdbc.datasource.DriverManagerDataSource\"</span>&gt;        &lt;property name=<span>\"driverClassName\"</span>&gt;            &lt;value&gt;com.mysql.cj.jdbc.Driver&lt;/value&gt;        &lt;/property&gt;        &lt;property name=<span>\"url\"</span>&gt;            &lt;value&gt;jdbc:mysql://localhost:3306/ssm?characterEncoding=UTF-8&lt;/value&gt;        &lt;/property&gt;        &lt;property name=<span>\"username\"</span>&gt;            &lt;value&gt;root&lt;/value&gt;        &lt;/property&gt;        &lt;property name=<span>\"password\"</span>&gt;            &lt;value&gt;123456&lt;/value&gt;        &lt;/property&gt;    &lt;/bean&gt;    &lt;bean id=<span>\"sqlSessionFactory\"</span> class=<span>\"org.mybatis.spring.SqlSessionFactoryBean\"</span>&gt;        &lt;property name=<span>\"typeAliasesPackage\"</span> value=<span>\"pojo\"</span> /&gt;        &lt;property name=<span>\"dataSource\"</span> ref=<span>\"dataSource\"</span>/&gt;        &lt;property name=<span>\"mapperLocations\"</span> value=<span>\"classpath:mapper/*.xml\"</span>/&gt;    &lt;/bean&gt;    &lt;bean class=<span>\"org.mybatis.spring.mapper.MapperScannerConfigurer\"</span>&gt;        &lt;property name=<span>\"basePackage\"</span> value=<span>\"mapper\"</span>/&gt;        &lt;property name=<span>\"sqlSessionFactoryBeanName\"</span> value=<span>\"sqlSessionFactory\"</span>&gt;&lt;/property&gt;    &lt;/bean&gt;&lt;/beans&gt;</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>springMVC.xml</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code>&lt;?xml version=<span>\"1.0\"</span> encoding=<span>\"UTF-8\"</span>?&gt;&lt;beans xmlns=<span>\"http://www.springframework.org/schema/beans\"</span>       xmlns:xsi=<span>\"http://www.w3.org/2001/XMLSchema-instance\"</span> xmlns:aop=<span>\"http://www.springframework.org/schema/aop\"</span>       xmlns:tx=<span>\"http://www.springframework.org/schema/tx\"</span> xmlns:jdbc=<span>\"http://www.springframework.org/schema/jdbc\"</span>       xmlns:context=<span>\"http://www.springframework.org/schema/context\"</span>       xmlns:mvc=<span>\"http://www.springframework.org/schema/mvc\"</span>       xsi:schemaLocation=<span>\"http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\"</span>&gt;    &lt;context:annotation-config/&gt;    &lt;context:component-scan base-package=<span>\"controller\"</span>&gt;        &lt;context:include-filter <span>type</span>=<span>\"annotation\"</span>                                expression=<span>\"org.springframework.stereotype.Controller\"</span>/&gt;    &lt;/context:component-scan&gt;&lt;!-- 如果不加&lt;mvc:annotation-driven /&gt;,那RequestMapping()就失效了 --&gt;    &lt;mvc:annotation-driven /&gt;&lt;!--     配置defaultServletHandler的作用:    若RequestMapping()找不到URL对应的映射，则默认的servlet(不是dispatcherServlet)会去找目标资源 --&gt;    &lt;mvc:default-servlet-handler /&gt;    &lt;!-- 视图定位 --&gt;    &lt;!--&lt;bean            class=<span>\"org.springframework.web.servlet.view.InternalResourceViewResolver\"</span>&gt;        &lt;property name=<span>\"viewClass\"</span>                  value=<span>\"org.springframework.web.servlet.view.JstlView\"</span> /&gt;        &lt;property name=<span>\"prefix\"</span> value=<span>\"/WEB-INF/jsp/\"</span> /&gt;        &lt;property name=<span>\"suffix\"</span> value=<span>\".jsp\"</span> /&gt;    &lt;/bean&gt;--&gt;&lt;/beans&gt;</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>至此，ssm配置文件基本完成，这里需注意两个xml文件都要加上&lt;context:annotation-config/&gt;，在springMVC中还需要配置</p><p>&lt;mvc:annotation-driven /&gt; &lt;mvc:default-servlet-handler /&gt;这两个标签，一个识别requestMapping，一个将springMVC截取了但是没有相应映射的请求较至servlet进行处理，也就是释放静态资源包。</p><h3>3、mybatis映射文件示例</h3><p>UserMapper</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>package</span> mapper;<span>import</span> pojo.User;<span>import</span> java.util.List;<span>public</span> <span><span>interface</span> <span>UserMapper</span> </span>{    <span><span>public</span> User <span>getUser</span><span>(User user)</span></span>;    <span><span>public</span> <span>void</span> <span>addUser</span><span>(User user)</span></span>;    <span><span>public</span> List&lt;User&gt; <span>searchUser</span><span>(String search)</span></span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>UserMapper.xml</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre%\',#{search},\'%\') or=\"\" role=\"\" like=\"\" concat(\'%\',#{search},\'%\')\\n=\"\" &amp;lt;=\"\" select&amp;gt;\\n&amp;lt;=\"\" mapper&amp;gt;&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}\"=\"\"><code>&lt;?xml version=<span>\"1.0\"</span> encoding=<span>\"UTF-8\"</span>?&gt;&lt;!DOCTYPE mapper        PUBLIC <span>\"-//mybatis.org//DTD Mapper 3.0//EN\"</span>        <span>\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"</span>&gt;&lt;mapper namespace=<span>\"mapper.UserMapper\"</span>&gt;    &lt;select id=<span>\"getUser\"</span> parameterType=<span>\"User\"</span> resultType=<span>\"User\"</span>&gt;        select * from user <span>where</span> name=<span>#{name} and password=#{password}</span>    &lt;/select&gt;    &lt;insert id=<span>\"addUser\"</span> parameterType=<span>\"User\"</span>&gt;        insert into user(name, password, role) value (<span>#{name},#{password},#{role})</span>    &lt;/insert&gt;    &lt;select id=<span>\"searchUser\"</span> parameterType=<span>\"String\"</span> resultType=<span>\"User\"</span>&gt;        select * from user <span>where</span> name like concat(<span>\'%\'</span>,<span>#{search},\'%\') or role like concat(\'%\',#{search},\'%\')</span>    &lt;/select&gt;&lt;/mapper&gt;</code><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></pre%\',#{search},\'%\')></div><p><br></p></blockquote><h1>2、mvc分层</h1><blockquote><h3>根据控制层，业务逻辑层，数据持久化层将文件分为controller，service，mapper层</h3><h3>1、前端发送请求login，controller截取</h3><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>public</span> <span><span>class</span> <span>UserController</span> </span>{    <span>@Autowired</span>     <span>private</span> UserService userService;    <span>@RequestMapping</span>(<span>\"login\"</span>)    <span><span>public</span> ModelAndView <span>getUser</span><span>(User user, HttpSession session)</span></span>{        ModelAndView mav = <span>new</span> ModelAndView();        user = userService.getUser(user);        <span>if</span> (user!=<span>null</span>){            session.setAttribute(<span>\"user\"</span>,user);            mav.addObject(<span>\"user\"</span>,user);            mav.setViewName(<span>\"main.jsp\"</span>);        }        <span>else</span> {            mav.setViewName(<span>\"fail.jsp\"</span>);        }       <span>return</span> mav;    }}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>2、service层使用getUser方法进行逻辑处理</h3><p>接口类UserService:</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>public</span> <span><span>interface</span> <span>UserService</span> </span>{    <span><span>public</span> User <span>getUser</span><span>(User user)</span></span>;    <span><span>public</span> <span>void</span> <span>addUser</span><span>(User user)</span></span>;    <span><span>public</span> List&lt;User&gt; <span>searchUser</span><span>(String search)</span></span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>&nbsp;实现类UserServiceImpl：</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>public</span> <span><span>class</span> <span>UserServiceImpl</span> <span>implements</span> <span>UserService</span> </span>{    <span>@Autowired</span>    <span>private</span> UserMapper userMapper;    <span>@Override</span>    <span><span>public</span> User <span>getUser</span><span>(User user)</span> </span>{        <span>return</span> userMapper.getUser(user);    }}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>3、mapper层getUser查询数据库</h3><p>这里UserMapper.java接口类与UserMapper.xml进行映射</p><p>UserMapper</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>public</span> <span><span>interface</span> <span>UserMapper</span> </span>{    <span><span>public</span> User <span>getUser</span><span>(User user)</span></span>;    <span><span>public</span> <span>void</span> <span>addUser</span><span>(User user)</span></span>;    <span><span>public</span> List&lt;User&gt; <span>searchUser</span><span>(String search)</span></span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>UserMapper.xml</p><p>这里的命名空间需要指向UserMapper类，进行方法映射</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre%\',#{search},\'%\') or=\"\" role=\"\" like=\"\" concat(\'%\',#{search},\'%\')\\n=\"\" &amp;lt;=\"\" select&amp;gt;\\n&amp;lt;=\"\" mapper&amp;gt;&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}\"=\"\"><code>&lt;?xml version=<span>\"1.0\"</span> encoding=<span>\"UTF-8\"</span>?&gt;&lt;!DOCTYPE mapper        PUBLIC <span>\"-//mybatis.org//DTD Mapper 3.0//EN\"</span>        <span>\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"</span>&gt;&lt;mapper namespace=<span>\"mapper.UserMapper\"</span>&gt;    &lt;select id=<span>\"getUser\"</span> parameterType=<span>\"User\"</span> resultType=<span>\"User\"</span>&gt;        select * from user <span>where</span> name=<span>#{name} and password=#{password}</span>    &lt;/select&gt;    &lt;insert id=<span>\"addUser\"</span> parameterType=<span>\"User\"</span>&gt;        insert into user(name, password, role) value (<span>#{name},#{password},#{role})</span>    &lt;/insert&gt;    &lt;select id=<span>\"searchUser\"</span> parameterType=<span>\"String\"</span> resultType=<span>\"User\"</span>&gt;        select * from user <span>where</span> name like concat(<span>\'%\'</span>,<span>#{search},\'%\') or role like concat(\'%\',#{search},\'%\')</span>    &lt;/select&gt;&lt;/mapper&gt;</code><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></pre%\',#{search},\'%\')></div><p><br></p></blockquote><h2>&nbsp;3、访问流程示例</h2><blockquote><h3>这里以login界面为例：</h3><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20191116104312438.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"572\" height=\"395\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><h3>1、点击sign in，跳转login，请求在web.xml被springMVX的dispatch类截取，并将其分发到UserController类中的getUser方法进行处理（因为该方法映射了@requestMapping(\"login\")）</h3><h3>2、getUser方法内已经注入了UserService类，将业务逻辑处理交至UserService类的getUser方法进行处理</h3><h3>3、UserService实现类中getUser方法注入了UserMapping接口类，在UserMapping.xml文件中编写mybatis相关代码实现与其接口类的方法映射。</h3><h3>4、至此，访问login就能够获取mybatis数据库操作返回的数据，根据数据的有无，完成登陆验证。</h3></blockquote><h2>4、项目展示</h2><blockquote><h3>由于页面过多这里只显示一部分</h3><p>main.jsp（读者）</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20191116105406942.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"635\" height=\"420\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>aMain.jsp(管理员)</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20191116105603735.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"592\" height=\"553\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>addUser,jsp</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20191116105707176.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"635\" height=\"502\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>listUser.jsp</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20191116105506577.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"634\" height=\"468\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>数据库表设计：</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/201911161058244.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"396\" height=\"601\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><h3>在jsp页面中实现数据的导入以及数据的控制（if for）使用el以及jstl表达式</h3><h1>至此，实验报告完毕！！！</h1></blockquote>', '2019-11-26 18:37:36', '2019-11-26 18:37:36', ' Experiment report ', 0, 3);
INSERT INTO `article` VALUES (4, '如何计算网络地址和广播地址', '    1. 子网掩码与IP地址进行位与运算，得处网络地址     2. 网络地址 | (~子网掩码)，得出广播地址     |：位或运算； ~：按位取反      IP地址10.145.129.20，掩码255.255.248.0，网络地址和广播地址怎...', '<blockquote><p><strong>1. 子网掩码与IP地址进行位与运算，得处网络地址</strong><br><strong>2. 网络地址 | (~子网掩码)，得出广播地址</strong><br><strong>|：位或运算； ~：按位取反</strong><br></p><p>IP地址10.145.129.20，掩码255.255.248.0，网络地址和广播地址怎么计算？<br>网络地址 10.145.128.0 广播地址 10.145.135.255</p><p>IP转换成二进制：00001010 10010001 10000001 00010010<br>掩码转换成二进制：11111111 11111111 11111000 00000000<br>IP与掩码相与得网络地址（全1为1，见0为0）：00001010 10010001 10000000 00000000<br>网络地址转换成十进制为：10,145,128,0<br>看你的掩码把后24位的前13为划成了子网，后11为划成了主机，故：<br>广播地址则要把网络地址的主机位全换成1,得：00001010,10010001,10000111,1111111<br>广播地址转换成十进制为：10,145,135,255</p><p>首先由ip地址结合子网掩码可以看出的是这是一个由A类地址，“借用”13位的主机位而得到的子网，所以很轻易地得到<br>网络地址是：10.145.128.0，也即：00001010.10010001.10000 000.00000000（看出来没？前21（8+13）位是网络位，后11位是主机位）<br>至于广播地址，网络位+全为1的主机位，即得：00001010.10010001.10000 111.11111111<br>10进制表达方式就是10.145.135.255<br>能懂吧？</p></blockquote><h2>&nbsp;另：</h2><h3>一、IP地址简介</h3><blockquote><p>&nbsp;&nbsp;&nbsp; IP，即网际协议（Internet Protocol），或称互联网协议，是用于报文交换网络的一种面向数据的协议。 IP是在TCP/IP协议中网络层的主要协议，任务是仅仅根据源主机和目的主机的地址传送数据。为此目的，IP定义了寻址方法和数据报的封装结构，即IP地址。</p><p>&nbsp;&nbsp;&nbsp; IP地址是IP协议提供的一种统一的地址格式，它为互联网上的每一个网络和每一台主机分配一个逻辑地址，以此来屏蔽物理地址的差异。一个IP地址在整个因特网范围内是唯一的。</p><p>&nbsp;&nbsp;&nbsp; 两级的IP地址可以表示成如下的形式：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IP地址 ::= {&lt;网络号&gt;，&lt;主机号&gt;}</p><p>&nbsp;&nbsp;&nbsp; 其中第一个字段是网络号，标志着主机所连接到的网络，一个网络号在整个因特网范围必须是唯一的。第二个字段是主机号，它标志着主机，一个主机号在它前面所指明的网络范围内必须是唯一的。</p><p><br>&nbsp;&nbsp;&nbsp; IPv4由32位二进制组成；IPv6由128位二进制组成。</p><p><br></p></blockquote><h3>二、IP地址分类&nbsp;&nbsp;&nbsp;</h3><blockquote><p>IP地址分为五大类：A类、B类、C类、D类和E类，如下图所示：</p><p>&nbsp;&nbsp;&nbsp; 在这五类IP地址中，我们最常使用的是A类、B类和C类地址。<br></p><p>&nbsp;&nbsp;&nbsp; （1）A类地址</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A类地址第1字节为网络号，其它3个字节为主机号。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A类地址的网络号第一位固定为0，网络号只有7位可以使用，可以指派的网络号是2^7-2 = 126个。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 网络号全是0（0000 0000）的IP地址是保留地址，意思是“本网络”。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 网络号是127（0111 1111）的IP地址也是保留地址，作为本地环回软件测试。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ------------------------------------------------------------------------------------------------------------------------------------------</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A类地址的主机号占3个字节，每个A类网络中的最大主机数是2^24-2个。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 主机号全是0的IP地址表示是“本主机”所连接到的单个网络。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 主机号全是1的IP地址表示是该网络上的所有主机。</p><p><br>&nbsp;&nbsp;&nbsp; （2）B类地址</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B类地址的前两个字节为网络号，后两个字节为主机号。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B类地址的网络号第一、二位固定为10，网络号有14位可以使用，可以指派的网络号是2^14-1个。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B类地址网络号为128.0（1000 000&nbsp; 0000 0000）的IP地址是不指派的，所以可指派的网络号需要减一。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ------------------------------------------------------------------------------------------------------------------------------------------</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B类地址的主机号占2个字节，每个B类网络中的最大主机数是2^16-2个。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 主机号全是0的IP地址表示是“本主机”所连接到的单个网络。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 主机号全是1的IP地址表示是该网络上的所有主机。</p><p><br>&nbsp;&nbsp;&nbsp; （3）C类地址</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C类地址的前三个字节为网络号，最后一个字节为主机号。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C类地址的网络号第一、二、三位固定为110，网络号有21位可以使用，可以指派的网络号是2^21-1个。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C类地址网络号为192.0.0（1000 000&nbsp; 0000 0000&nbsp; 0000 0000）的IP地址是不指派的，所以可指派的网络号需要减一。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ------------------------------------------------------------------------------------------------------------------------------------------</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C类地址的主机号占1个字节，每个C类网络中的最大主机数是2^8-2个。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 主机号全是0的IP地址表示是“本主机”所连接到的单个网络。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 主机号全是1的IP地址表示是该网络上的所有主机。<br><br></p></blockquote><p><br></p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20181025211205234.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_27,color_FFFFFF,t_70\" width=\"1020\" height=\"766\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p>', '2018-05-24 14:45:56', '2019-11-26 18:40:05', '网络知识', 0, 4);
INSERT INTO `article` VALUES (5, '辗转相除，二进制一的个数，快速幂算法使用递归的相同处', '递归在算法竞赛中起到了很重要的角色，就这三个算法进行一些归纳 辗转相除法：  //可以两种递归的写法，注意两者的区别  int gcd(int a,int b) { 	return b==0?a:gcd(b,a%b); }   int gcd(int a...', '<h3>递归在算法竞赛中起到了很重要的角色，就这三个算法进行一些归纳<br></h3><h2>辗转相除法：<br></h2><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>//可以两种递归的写法，注意两者的区别</span><span><span>int</span> <span>gcd</span><span>(<span>int</span> a,<span>int</span> b)</span></span>{	<span>return</span> b==<span>0</span>?a:gcd(b,a%b);}<span><span>int</span> <span>gcd</span><span>(<span>int</span> a,<span>int</span> b)</span></span>{    <span>if</span>(b==<span>0</span>) <span>return</span> a;    <span>return</span> gcd(b,a%b);<span>//注意：在这里一定要return，上面的return只能用一次，通过这个</span>                      <span>//return我们可以实现一个延续，当然既然可以延续就可以在返回的</span>                      <span>//过程中进行修改，在下面的快速幂算法中会有提及</span>}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h2>二进制一的个数：</h2><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span><span>int</span> <span>bitcount</span><span>(<span>int</span> x)</span></span>{	<span>return</span> x==<span>0</span>?<span>0</span>:bitcount(x/<span>2</span>)+(x&amp;<span>1</span>);<span>//x&amp;1加括号 </span>}<span>//想装大佬就写上面代码，很精简</span><span><span>int</span> <span>bitcount</span><span>(<span>int</span> x)</span></span>{	<span>if</span>(x==<span>0</span>)         <span>return</span> <span>0</span>;        <span>return</span> bitcount(x/<span>2</span>)+(x&amp;<span>1</span>);<span>//x为奇数时加一</span>}<span><span>int</span> <span>bitcount</span><span>(<span>int</span> x)</span></span>{    <span>int</span> res=<span>0</span>;    <span>while</span>(x&gt;<span>0</span>)    {        <span>if</span>(x&amp;<span>1</span>) res++;        x&gt;&gt;=<span>1</span>;    }    <span>return</span> <span>0</span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><br></p><h2>快速幂算法：</h2><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>LL <span>mod_pow</span><span>(LL a,LL b,LL mod)</span></span>{	<span>int</span> res=<span>1</span>;	<span>while</span>(b&gt;<span>0</span>)	{		<span>if</span>(b&amp;<span>1</span>) res=res*a%mod;<span>//如果是奇数，则运行 </span>		a=a*a%mod;		b&gt;&gt;=<span>1</span>; 	}	<span>return</span> res;}<span>//上下两个算法实现一样功能，算法复杂度均为log（n）</span><span>LL <span>mod_pow</span><span>(LL a,LL b,LL mod)</span></span>{	<span>if</span>(b==<span>0</span>) <span>return</span> <span>1</span>;	LL res=mod_pow(a*a%mod,b/<span>2</span>,mod);	<span>if</span>(b&amp;<span>1</span>) res=res*a%mod;	<span>return</span> res;<span>//这里是不是和上面算法的代码很像呢</span>           <span>//他们都是先递归到最深处，然后返回的时候可以进行相应返回值的修改想要实</span>           <span>//现这个效果，刚开始一定得if(b==0)这样的判断条件，其实这三个算法特别像！！！</span>}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>&nbsp;再插入点当自己的笔记(可以忽略)：</h3><p>素数常用代码：</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>LL <span>ol</span><span>(LL x)</span><span>//欧拉定理：降幂定理， </span></span>{<span>//该函数用来返回与x在（1，x-1）中互质的个数 </span>	<span>int</span> res=x;	<span>for</span>(<span>int</span> i=<span>2</span>;i*i&lt;=x;i++)	{		<span>if</span>(x%i==<span>0</span>)		{			res=res-res/i;			<span>while</span>(x%i==<span>0</span>)			{				x/=i;			}		}		<span>if</span>(x&gt;<span>1</span>)		res=res-res/x;	}	<span>return</span> res;}<span>//</span><span><span>void</span> <span>prime</span><span>(<span>int</span> k)</span></span>{    <span>for</span>(<span>int</span> i=<span>2</span>;i*i&lt;=k;i++)    {        <span>while</span>(k%i==<span>0</span>)        {            vec.push_back(i);            k/=i;        }    }    <span>if</span>(k&gt;<span>1</span>)    vec.push_back(k);}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>&nbsp;树状数组：</h3><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>//树状数组输入的一组数据可以不存</span><span>#<span>include</span> <span>\"bits/stdc++.h\"</span></span><span>#<span>define</span> rep(i,j,k) for(int i=j;i&lt;=k;i++)</span><span>using</span> <span>namespace</span> <span>std</span>;<span>const</span> <span>int</span> maxn = <span>1e5</span>+<span>7</span>;<span>int</span> a[maxn],b[maxn];<span><span>void</span> <span>build</span><span>(<span>int</span> i,<span>int</span> n)</span></span>{	<span>int</span> k=i;		<span>while</span>(k&lt;=n)		{			b[k]+=a[i];			k+=k&amp;-k;		}}<span><span>int</span> <span>search</span><span>(<span>int</span> a)</span></span>{	<span>int</span> sum=<span>0</span>;	<span>while</span>(a!=<span>0</span>)	{		sum+=b[a];		a-=a&amp;-a;	}	<span>return</span> sum;}<span><span>void</span> <span>change</span><span>(<span>int</span> num,<span>int</span> c)</span></span>{	<span>int</span> cut=num-a[num];		<span>int</span> k=num;		<span>while</span>(k&lt;=n)		{			b[k]+=cut;			k+=k&amp;-k;		}}<span><span>int</span> <span>main</span><span>()</span></span>{	<span>int</span> n;	<span>cin</span>&gt;&gt;n;	rep(i,<span>1</span>,n)	<span>cin</span>&gt;&gt;a[i],build(i,n);	rep(i,<span>1</span>,n)	<span>cout</span>&lt;&lt;b[i]&lt;&lt;<span>endl</span>;	<span>int</span> a1,b1;	rep(i,<span>1</span>,<span>5</span>)	<span>cout</span>&lt;&lt;search(i)&lt;&lt;<span>endl</span>;	<span>int</span> ans=b[b1]-b[a1];	<span>cout</span>&lt;&lt;ans&lt;&lt;<span>endl</span>;	<span>return</span> <span>0</span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>//心血来潮在插点</span><span>//判断long long最大储存数据，2的62次方是可以的，63就不行了</span><span>#<span>include</span> <span>\"bits/stdc++.h\"</span></span><span>using</span> <span>namespace</span> <span>std</span>;<span><span>int</span> <span>main</span><span>()</span></span>{	<span>long</span> <span>long</span> a;	a=<span>pow</span>(<span>2</span>,<span>62</span>);	<span>cout</span>&lt;&lt;a&lt;&lt;<span>endl</span>;	<span>return</span> <span>0</span>;}<span>//运行结果如下，是一个19位数字的数</span></code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdn.net/20180917011645258?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70\" width=\"289\" height=\"224\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p><br></p><h2><span>&nbsp;零点半南昌航空大学405宿舍完成！！！</span></h2>', '2017-12-22 18:41:26', '2019-11-26 18:41:26', 'Acm', 0, 5);
INSERT INTO `article` VALUES (6, '王爽汇编学习 安装 DOSBOX 及系列环境配置', '    转载：     一、dosbox+masm环境的配置      1. 下载dosbox安装程序：DOSBox0.74-win32-installer.exe                 链接：https://pan.baidu.com/s/1...', '<blockquote><h3><strong>一、dosbox+masm环境的配置</strong></h3><p><strong>1. 下载dosbox安装程序：</strong>DOSBox0.74-win32-installer.exe</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 链接：https://pan.baidu.com/s/1gXPKTT-xKb6BpjOJdhmudA 密码：khqs</p><p><strong>2. 安装。</strong>注意它是32位的。我装在了C盘program files(X86)。</p><p><br></p><p><strong>3. 下载masm文件。</strong></p><p>链接：https://pan.baidu.com/s/177arSA34plWqV-iyffWpEw 密码：3akd</p><p>masm文件夹内至少要包含这4个文件：masm.exe, link.exe, debug.exe, exe2bin.exe。其中：<br></p><p>masm.exe：汇编程序，用于汇编源程序(.asm)，得到目标程序(.obj)；</p><p>link.exe：连接程序，用于连接目标程序，得到可执行程序(.exe)；</p><p>debug.exe：调试程序，用于调试可执行程序。</p><p>还可以下载其他的程序。</p><p><strong>4. 建一个工作目录。</strong>例如在D盘根目录下新建文件夹dos，其中建两个子文件夹asm和masm，masm中手动放置上述masm文件，asm用来保存汇编程序。</p><p><strong>5. 将dos挂载到dosbox的驱动器下</strong>。例如挂载到dosbox的d驱动器下，即虚拟存在的d盘。有两种方法:</p><p>1) 运行dosbox，输入Z:\\&gt; mount d d:\\dos。d是指dosbox的d盘，d:\\dos是本机上工作目录dos的位置。</p><p>2) 在dosbox的安装文件夹中找到Dosbox 0.74 Options.bat文件，在末尾增加：</p><p>mount d d:\\dos ; 挂载驱动器</p><p>path=%path%; \\masm ; 添加路径</p><p>d: ; 转到d盘</p><p>cd \\asm ; 进入asm文件夹</p><h3>二、编辑和调试程序</h3><p><strong>1. 编辑源程序。</strong>用记事本，修改后缀为.asm即可。将源程序放到dos\\asm文件夹。</p><p><strong>2. 汇编</strong>。打开dosbox，输入命令：</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20181127143538848.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"646\" height=\"429\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>此时查看asm文件夹，生成了目标文件.obj。</p><p><strong>3.连接。</strong>先输入link，再输入文件名，之后一直回车。</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20181127143554309.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"643\" height=\"203\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>此时查看asm文件夹，生成了.exe文件。</p><p><strong>4.运行。</strong></p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20181127143600803.png\" width=\"204\" height=\"38\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>在本程序中，打印Y是运行结果。</p><p><strong>5.调试。</strong>注意是针对可执行程序。debug 文件名.exe。进入调试模式，在短横线后输入命令。网上可查到命令集。</p><p>例如，g：运行程序。q：退出调试模式。</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/2018112714360886.png\" width=\"240\" height=\"116\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><h3>三、其他工具</h3><p><strong>1. emu8086</strong>。直接编译、运行、调试，不需要dosbox。</p><p><strong>2. masm for windows，</strong>友好的文本编辑器，但是运行和调试仍会调出dosbox。</p><p>链接：https://pan.baidu.com/s/16DxS5Yjizc-mve_5oUShBg 密码：3z3e</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20181127143616751.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"1200\" height=\"736\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>原文：https://blog.csdn.net/yuzuruhanyu/article/details/80287419</p></blockquote>', '2019-01-04 21:52:31', '2019-11-26 21:52:31', 'Others', 0, 6);
INSERT INTO `article` VALUES (7, 'KMP算法浅显理解', '说明：转载      KMP算法看懂了觉得特别简单，思路很简单，看不懂之前，查各种资料，看的稀里糊涂，即使网上最简单的解释，依然看的稀里糊涂。     我花了半天时间，争取用最短的篇幅大致搞明白这玩意到底是啥。     这里不扯概念，只讲算法过程和代码...', '<blockquote><p>KMP算法看懂了觉得特别简单，思路很简单，看不懂之前，查各种资料，看的稀里糊涂，即使网上最简单的解释，依然看的稀里糊涂。<br>我花了半天时间，争取用最短的篇幅大致搞明白这玩意到底是啥。<br>这里不扯概念，只讲算法过程和代码理解：<br>KMP算法求解什么类型问题</p><p>字符串匹配。给你两个字符串，寻找其中一个字符串是否包含另一个字符串，如果包含，返回包含的起始位置。<br>如下面两个字符串：<br></p><p>char *str = \"bacbababadababacambabacaddababacasdsd\";<br>char *ptr = \"ababaca\";</p><p>str有两处包含ptr<br>分别在str的下标10，26处包含ptr。</p><p>“bacbababadababacambabacaddababacasdsd”;\\<br><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20181029224332461.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"1200\" height=\"360\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><h3>问题类型很简单，下面直接介绍算法<br>算法说明</h3><p>一般匹配字符串时，我们从目标字符串str（假设长度为n）的第一个下标选取和ptr长度（长度为m）一样的子字符串进行比较，如果一样，就返回开始处的下标值，不一样，选取str下一个下标，同样选取长度为n的字符串进行比较，直到str的末尾（实际比较时，下标移动到n-m）。这样的时间复杂度是O(n*m)。</p><p>KMP算法：可以实现复杂度为O(m+n)</p><p>为何简化了时间复杂度：<br>充分利用了目标字符串ptr的性质（比如里面部分字符串的重复性，即使不存在重复字段，在比较时，实现最大的移动量）。<br>上面理不理解无所谓，我说的其实也没有深刻剖析里面的内部原因。</p><h3>考察目标字符串ptr：<br>ababaca<br>这里我们要计算一个长度为m的转移函数next。</h3><h3>next数组的含义就是一个固定字符串的最长前缀和最长后缀相同的长度。</h3><p>比如：abcjkdabc，那么这个数组的最长前缀和最长后缀相同必然是abc。<br>cbcbc，最长前缀和最长后缀相同是cbc。<br>abcbc，最长前缀和最长后缀相同是不存在的。</p><p>**注意最长前缀：是说以第一个字符开始，但是不包含最后一个字符。<br>比如aaaa相同的最长前缀和最长后缀是aaa。**<br>对于目标字符串ptr，ababaca，长度是7，所以next[0]，next[1]，next[2]，next[3]，next[4]，next[5]，next[6]分别计算的是<br>a，ab，aba，abab，ababa，ababac，ababaca的相同的最长前缀和最长后缀的长度。由于a，ab，aba，abab，ababa，ababac，ababaca的相同的最长前缀和最长后缀是“”，“”，“a”，“ab”，“aba”，“”，“a”,所以next数组的值是[-1,-1,0,1,2,-1,0]，这里-1表示不存在，0表示存在长度为1，2表示存在长度为3。这是为了和代码相对应。</p><p>下图中的1，2，3，4是一样的。1-2之间的和3-4之间的也是一样的，我们发现A和B不一样；之前的算法是我把下面的字符串往前移动一个距离，重新从头开始比较，那必然存在很多重复的比较。现在的做法是，我把下面的字符串往前移动，使3和2对其，直接比较C和A是否一样。</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20181029224410131.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"817\" height=\"264\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20181029224428682.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"930\" height=\"247\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p></blockquote><h3>代码解析：</h3><blockquote><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span><span>void</span> <span>cal_next</span><span>(<span>char</span> *str, <span>int</span> *next, <span>int</span> len)</span></span>{    next[<span>0</span>] = <span>-1</span>;<span>//next[0]初始化为-1，-1表示不存在相同的最大前缀和最大后缀</span>    <span>int</span> k = <span>-1</span>;<span>//k初始化为-1</span>    <span>for</span> (<span>int</span> q = <span>1</span>; q &lt;= len<span>-1</span>; q++)    {        <span>while</span> (k &gt; <span>-1</span> &amp;&amp; str[k + <span>1</span>] != str[q])<span>//如果下一个不同，那么k就变成next[k]，注意next[k]是小于k的，无论k取任何值。</span>        {            k = next[k];<span>//往前回溯</span>        }        <span>if</span> (str[k + <span>1</span>] == str[q])<span>//如果相同，k++</span>        {            k = k + <span>1</span>;        }        next[q] = k;<span>//这个是把算的k的值（就是相同的最大前缀和最大后缀长）赋给next[q]</span>    }}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><br></p></blockquote><blockquote><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code>KMP这个和next很像，具体就看代码，其实上面已经大概说完了整个匹配过程。<span><span>int</span> <span>KMP</span><span>(<span>char</span> *str, <span>int</span> slen, <span>char</span> *ptr, <span>int</span> plen)</span></span>{    <span>int</span> *next = <span>new</span> <span>int</span>[plen];    cal_next(ptr, next, plen);<span>//计算next数组</span>    <span>int</span> k = <span>-1</span>;    <span>for</span> (<span>int</span> i = <span>0</span>; i &lt; slen; i++)    {        <span>while</span> (k &gt;<span>-1</span>&amp;&amp; ptr[k + <span>1</span>] != str[i])<span>//ptr和str不匹配，且k&gt;-1（表示ptr和str有部分匹配）</span>            k = next[k];<span>//往前回溯</span>        <span>if</span> (ptr[k + <span>1</span>] == str[i])            k = k + <span>1</span>;        <span>if</span> (k == plen<span>-1</span>)<span>//说明k移动到ptr的最末端</span>        {            <span>//cout &lt;&lt; \"在位置\" &lt;&lt; i-plen+1&lt;&lt; endl;</span>            <span>//k = -1;//重新初始化，寻找下一个</span>            <span>//i = i - plen + 1;//i定位到该位置，外层for循环i++可以继续找下一个（这里默认存在两个匹配字符串可以部分重叠），感谢评论中同学指出错误。</span>            <span>return</span> i-plen+<span>1</span>;<span>//返回相应的位置</span>        }    }    <span>return</span> <span>-1</span>;  }</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><br></p></blockquote><h3>KMP算法代码：</h3><blockquote><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>#<span>include</span> <span>\"iostream\"</span></span><span>#<span>include</span> <span>\"cstring\"</span></span><span>using</span> <span>namespace</span> <span>std</span>;<span><span>void</span> <span>cal_next</span><span>(<span>char</span> *str,<span>int</span> *next,<span>int</span> len)</span></span>{	next[<span>0</span>]=<span>-1</span>;	<span>int</span> k=<span>-1</span>;	<span>for</span>(<span>int</span> i=<span>1</span>;i&lt;=len<span>-1</span>;i++)	{		<span>while</span>(k&gt;<span>-1</span>&amp;&amp;str[i]!=str[k+<span>1</span>])		k=next[k];		<span>if</span>(str[k+<span>1</span>]==str[i]);		k++;		next[i]=k;	}}<span><span>int</span> <span>KMP</span><span>(<span>char</span> *str,<span>int</span> slen,<span>char</span> *ptr,<span>int</span> plen)</span></span>{	<span>int</span> *next=<span>new</span> <span>int</span> [plen];	cal_next(ptr,next,plen);	<span>int</span> k=<span>-1</span>;	<span>for</span>(<span>int</span> i=<span>0</span>;i&lt;=slen<span>-1</span>;i++)	{		<span>while</span>(k&gt;<span>-1</span>&amp;&amp;ptr[k+<span>1</span>]!=str[i])		k=next[k];		<span>if</span>(ptr[k+<span>1</span>]==str[i])		k++;		<span>if</span>(k==plen<span>-1</span>)		{			<span>return</span> i-plen+<span>1</span>;		}	}	<span>return</span> <span>-1</span>;}<span><span>int</span> <span>main</span><span>()</span></span>{	<span>char</span> str[<span>1000</span>],ptr[<span>1000</span>];	<span>cin</span>&gt;&gt;str;	<span>cin</span>&gt;&gt;ptr;	<span>int</span> a=KMP(str,<span>strlen</span>(str),ptr,<span>strlen</span>(ptr));	<span>if</span>(a==<span>-1</span>)	{		<span>cout</span>&lt;&lt;<span>\"找不到\"</span>&lt;&lt;<span>endl</span>;	}	<span>else</span>	{		<span>cout</span>&lt;&lt;a&lt;&lt;<span>endl</span>;	}	<span>return</span> <span>0</span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><br></p></blockquote><h3>无关笔记：</h3><blockquote><p><br></p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre \'&amp;lt;&amp;lt;b;\\n=\"\" }\\n=\"\" private:\\n=\"\" int=\"\" a;\\n=\"\" static=\"\" b;\\n};\\nint=\"\" a::b=\"1;\" &amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}\"=\"\"><code><span><span>class</span> <span>Calor</span>{</span>    <span>public</span>:        Calor(<span>double</span> a,<span>double</span> b)        {            weight=a;            worth=b;        }        <span><span>void</span> <span>Getin</span><span>(<span>const</span> Calor &amp;a)</span></span>;        <span><span>void</span> <span>Getout</span><span>(<span>const</span> Calor &amp;a)</span></span>;        <span><span>void</span> <span>Objshow</span><span>()</span></span>;        <span><span>static</span> <span>void</span> <span>init</span><span>()</span></span>;    <span><span>static</span> <span>void</span> <span>Allshow</span><span>()</span> </span>;<span>//静态函数不能含有cv限定符 const voletile</span>    <span><span>static</span> <span>void</span> <span>remind</span><span>()</span></span>;    <span>private</span>:        <span>double</span> weight;        <span>double</span> worth;        <span>static</span> <span>double</span> Aweight;<span>//static不可以重复使用</span>        <span>static</span> <span>double</span> Aworth;    };<span>double</span> Calor::Aweight=<span>1000</span>;<span>double</span> Calor::Aworth=<span>1000</span>;<span>//再类里的静态变量，定义如左边</span><span>void</span> Calor::Allshow(){<span>//    int a=5;静态函数里面使用变量和静态变量都没关系</span><span>//    static int b=2;</span><span>//    int c=a+b;</span>    <span>cout</span>&lt;&lt;<span>\"*******************\"</span>&lt;&lt;<span>endl</span>;    <span>cout</span>&lt;&lt;<span>\"所剩余货物重量为:\"</span>&lt;&lt;Aweight&lt;&lt;<span>\"千克\"</span>&lt;&lt;<span>endl</span>;    <span>cout</span>&lt;&lt;<span>\"所剩余货物价值为:\"</span>&lt;&lt;Aworth&lt;&lt;<span>\"元\"</span>&lt;&lt;<span>endl</span>;    <span>cout</span>&lt;&lt;<span>\"*******************\"</span>&lt;&lt;<span>endl</span>;    }<span><span>class</span> <span>A</span>{</span>    <span>public</span>:        A(<span>int</span> x,<span>int</span> y):a(x)<span>//静态变量不能成员初始化法</span>        {<span>//const函数不可以与静态函数一起使用，只能是成员函数，而且函数内部只能实现输入输出</span>            <span>cout</span>&lt;&lt;a&lt;&lt;<span>\' \'</span>&lt;&lt;b;        }    <span>private</span>:        <span>int</span> a;        <span>static</span> <span>int</span> b;};<span>int</span> A::b=<span>1</span>;   </code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><br></p></blockquote><p><br></p>', '2018-02-09 21:54:51', '2019-11-26 21:54:51', 'C++', 0, 1);
INSERT INTO `article` VALUES (8, 'Recursive sequence（快速矩阵幂模板）', '    该类题型适合大数，递推式及一个状态到另一个状态的规律      Problem Description      Farmer John likes to play mathematics games with his N cows. Recen...', '<blockquote><h3>该类题型适合大数，递推式及一个状态到另一个状态的规律<br></h3><p>Problem Description<br></p><p>Farmer John likes to play mathematics games with his N cows. Recently, they are attracted by recursive sequences. In each turn, the cows would stand in a line, while John writes two positive numbers a and b on a blackboard. And then, the cows would say their identity number one by one. The first cow says the first number a and the second says the second number b. After that, the i-th cow says the sum of twice the (i-2)-th number, the (i-1)-th number, and i4. Now, you need to write a program to calculate the number of the N-th cow in order to check if John’s cows can make it right.</p><p>Input</p><p>The first line of input contains an integer t, the number of test cases. t test cases follow.<br>Each case contains only one line with three numbers N, a and b where N,a,b &lt; 231 as described above.</p><p>Output</p><p>For each test case, output the number of the N-th cow. This number might be very large, so you need to output it modulo 2147493647.</p><p>Sample Input</p><p>2</p><p>3 1 2</p><p>4 1 10</p><p>Sample Output</p><p>85</p><p>369</p><p><em>Hint</em></p><p>In the first case, the third number is 85 = 2*1十2十3^4. In the second case, the third number is 93 = 2*1十1*10十3^4 and the fourth number is 369 = 2 * 10 十 93 十 4^4.<em> </em></p><p><br></p><br><p>Source</p><p><a href=\"http://acm.hdu.edu.cn/search.php?field=problem&amp;key=2016ACM%2FICPC%D1%C7%D6%DE%C7%F8%C9%F2%D1%F4%D5%BE-%D6%D8%CF%D6%C8%FC%A3%A8%B8%D0%D0%BB%B6%AB%B1%B1%B4%F3%D1%A7%A3%A9&amp;source=1&amp;searchmode=source\">2016ACM/ICPC亚洲区沈阳站-重现赛（感谢东北大学） </a></p></blockquote><blockquote><h3>&nbsp;该处分析转载，觉得确实分析很清楚。</h3><p>题意：</p><p>已知递推公式：F(n) = 2*F(n-2) + F(n-1) + n4 和F(1) = a，F(2) = b；给定一个N，求F(N)等于多少？</p><p>由于N很大，直接递推肯定超时，所以要用到矩阵快速幂的知识log(n)的复杂度来解决。问题的关键就在于如何构造矩阵上，可以看出本题的递推公式是一个非线性的式子，所以要将非线性的部分展开为线性的。</p><h3>注意：该处必须要凑的矩阵为n*n的，这样才能够自己相乘！！！n^4的拆分很巧妙</h3><p>…</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdn.net/20161030192946526?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p></blockquote><h3>代码：</h3><blockquote><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code> <span>//记住模板，关键还是在于找规律</span><span>#<span>include</span> <span>\"bits/stdc++.h\"</span></span><span>#<span>define</span> rep(i,j,k) for(int i=j;i&lt;=k;i++)</span><span>const</span> <span>int</span> MOD = <span>1e5</span>+<span>7</span>;<span>typedef</span> <span>long</span> <span>long</span> ll;<span>using</span> <span>namespace</span> <span>std</span>;<span>const</span> <span>int</span> N =<span>7</span>;ll mod = <span>2147493647</span>;<span>//必须是long long </span> <span><span>struct</span> <span>mat</span>{</span>	ll a[N][N];}; <span>mat <span>mul_mat</span><span>(mat &amp;a,mat &amp;b)</span></span>{	mat res;	<span>memset</span>(res.a,<span>0</span>,<span>sizeof</span>(res.a)); 	rep(i,<span>0</span>,<span>6</span>)		rep(j,<span>0</span>,<span>6</span>)			rep(k,<span>0</span>,<span>6</span>)			{				res.a[i][j]=(res.a[i][j]+a.a[i][k]*b.a[k][j])%mod;			}<span>//就是这个位置了，之前用res.a[i][j]+a.a[i][k]*b.a[k][j]%mod;</span>                         <span>//一直ac不了，还是要打括号保险</span>	<span>return</span> res;}<span>mat <span>pow_mat</span><span>(ll n,mat &amp;a)</span></span>{	mat res;	<span>memset</span>(res.a,<span>0</span>,<span>sizeof</span>(res.a));	<span>for</span>(<span>int</span> i=<span>0</span>;i&lt;=<span>6</span>;i++)	res.a[i][i]=<span>1</span>;	<span>while</span>(n)	{		<span>if</span>(n&amp;<span>1</span>) res=mul_mat(res,a);		a=mul_mat(a,a);		n&gt;&gt;=<span>1</span>;	}	<span>return</span> res;}<span><span>int</span> <span>main</span><span>()</span></span>{	<span>int</span> n;	<span>cin</span>&gt;&gt;n;	<span>while</span>(n--)	{		<span>int</span> a,b,m;		<span>cin</span>&gt;&gt;m&gt;&gt;a&gt;&gt;b;		<span>int</span> c[]={a,b,<span>16</span>,<span>8</span>,<span>4</span>,<span>2</span>,<span>1</span>};		<span>if</span>(m==<span>1</span>)		<span>cout</span>&lt;&lt;a&lt;&lt;<span>endl</span>;		<span>else</span> <span>if</span>(m==<span>2</span>)		<span>cout</span>&lt;&lt;a&lt;&lt;<span>endl</span>;		<span>else</span>		{			mat res=			{				<span>0</span>,<span>1</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,				<span>2</span>,<span>1</span>,<span>1</span>,<span>4</span>,<span>6</span>,<span>4</span>,<span>1</span>,				<span>0</span>,<span>0</span>,<span>1</span>,<span>4</span>,<span>6</span>,<span>4</span>,<span>1</span>,				<span>0</span>,<span>0</span>,<span>0</span>,<span>1</span>,<span>3</span>,<span>3</span>,<span>1</span>,				<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>1</span>,<span>2</span>,<span>1</span>,				<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>1</span>,<span>1</span>,				<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>0</span>,<span>1</span>,			};			mat cur=pow_mat(m<span>-2</span>,res);			ll sum=<span>0</span>;			<span>for</span>(<span>int</span> i=<span>0</span>;i&lt;=<span>6</span>;i++)			{				sum=((sum+cur.a[<span>1</span>][i]*c[i])%mod);			}			<span>cout</span>&lt;&lt;sum&lt;&lt;<span>endl</span>;		}	}		<span>return</span> <span>0</span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><br></p></blockquote>', '2017-12-23 16:00:47', '2019-11-26 22:00:47', 'Acm', 0, 5);
INSERT INTO `article` VALUES (9, 'Fliptile DFS (POJ-3279)', '    Farmer John knows that an intellectually satisfied cow is a happy cow who will give more milk. He has arranged a brainy act...', '<blockquote><p>Farmer John knows that an intellectually satisfied cow is a happy cow who will give more milk. He has arranged a brainy activity for cows in which they manipulate an <em>M</em> × <em>N</em> grid (1 ≤ <em>M</em> ≤ 15; 1 ≤ <em>N</em> ≤ 15) of square tiles, each of which is colored black on one side and white on the other side.<br></p><p>As one would guess, when a single white tile is flipped, it changes to black; when a single black tile is flipped, it changes to white. The cows are rewarded when they flip the tiles so that each tile has the white side face up. However, the cows have rather large hooves and when they try to flip a certain tile, they also flip all the adjacent tiles (tiles that share a full edge with the flipped tile). Since the flips are tiring, the cows want to minimize the number of flips they have to make.<br></p><p>Help the cows determine the minimum number of flips required, and the locations to flip to achieve that minimum. If there are multiple ways to achieve the task with the minimum amount of flips, return the one with the least lexicographical ordering in the output when considered as a string. If the task is impossible, print one line with the word \"IMPOSSIBLE\".</p><p>Input</p><p>Line 1: Two space-separated integers: <em>M</em> and <em>N</em><br>Lines 2.. <em>M</em>+1: Line <em>i</em>+1 describes the colors (left to right) of row i of the grid with <em>N</em> space-separated integers which are 1 for black and 0 for white</p><p>Output</p><p>Lines 1.. <em>M</em>: Each line contains <em>N</em> space-separated integers, each specifying how many times to flip that particular location.</p><p>Sample Input</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code>4 41 0 0 10 1 1 00 1 1 01 0 0 1</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>Sample Output</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code>0 0 0 01 0 0 11 0 0 10 0 0 0</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div></blockquote><p><br></p><p><a href=\"http://acm.hust.edu.cn/vjudge/contest/view.action?cid=65959#problem/D\"><strong>题目大意</strong></a></p><p>给一个N行M列的矩阵，值分别为0和1，每次你可以选择将一个变成相反状态，同时，它周围的四个数也会变为相反状态。<br>问：最少翻转多少次，可以将所有值都变成0<br>多个解，输出翻转次数最少的（若有次数相同解，输出字典序小的）<br>若无解，输出”IMPOSSIBLE”</p><p><strong>思路</strong></p><p>对于每个点，只能有两种操作，翻或不翻，若暴力所有可能性，需要2^(M＊N)次操作，显然不可行<br>所以有了这个法子。<br>先枚举第一行的所有可能性(2^M)，搜索或位运算均可<br>然后，对坐标(i, j)来说，如果(i-1, j)不为0，那么(i, j)必然需要翻转。<br>重复进行上操作由2至N<br>此时，最后一行也已翻转完毕，如果最后一行全为0，得出结果<br>第一行的所有结果中取最小值</p><p><strong>代码</strong></p><blockquote><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre \';\\n\\t\\t\\tcout&amp;lt;&amp;lt;endl;\\n\\t\\t}\\n\\t}\\n\\t\\n\\treturn=\"\" 0;\\n=\"\" }=\"\" &amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}\"=\"\"><code><span>//难点在于通过对第一层的判定，从而推导出下一城的结果所以复杂度为O(15*(2^15) )</span><span>#<span>include</span> <span>\"bits/stdc++.h\"</span></span><span>using</span> <span>namespace</span> <span>std</span>;<span>int</span> f[<span>20</span>][<span>20</span>],g[<span>20</span>][<span>20</span>];<span>int</span> ans[<span>20</span>][<span>20</span>];<span>int</span> minn=<span>0x3f3f3f3f</span>;<span><span>bool</span> <span>judge</span><span>(<span>int</span> n,<span>int</span> m)</span></span>{	<span>for</span>(<span>int</span> i=<span>1</span>;i&lt;=m;i++)	{		<span>if</span>(( f[n][i]+f[n][i<span>-1</span>]+f[n][i+<span>1</span>]+f[n<span>-1</span>][i]+g[n][i])&amp;<span>1</span>)		<span>return</span> <span>false</span>;	}	<span>return</span> <span>true</span>;}<span><span>void</span> <span>dfs</span><span>(<span>int</span> n,<span>int</span> m,<span>int</span> k,<span>int</span> num)</span></span>{	<span>int</span> cnt=<span>0</span>;	<span>if</span>(minn&lt;num)	{		<span>return</span>;	}	<span>if</span>(k&gt;n)	{		<span>if</span>(judge(n,m)&amp;&amp;minn&gt;num)		{			<span>memcpy</span>(ans,f,<span>sizeof</span>(f));			minn = num;		}		<span>return</span>;	}		<span>for</span>(<span>int</span> i=<span>1</span>;i&lt;=m;i++)	{		<span>if</span>((f[k<span>-2</span>][i]+f[k<span>-1</span>][i<span>-1</span>]+f[k<span>-1</span>][i+<span>1</span>]+f[k<span>-1</span>][i]+g[k<span>-1</span>][i])&amp;<span>1</span>)		{			f[k][i]=<span>1</span>;			cnt++;		}		<span>else</span>		f[k][i]=<span>0</span>;	}	dfs(n,m,k+<span>1</span>,num+cnt);}<span>//这段代码可以有意识的记忆，通过递归获取每一种可能性，但是用循环也是可以写的</span><span>/*int f[20];for(int i=1;i&lt;=(1&lt;&lt;n);i++){	for(int j=0;j&lt;=14;j++)	{		if(i&gt;&gt;j&amp;1)		{			f[j]=1;		}		else		f[j]=0;	}}*/</span><span><span>void</span> <span>todfs</span><span>(<span>int</span> n,<span>int</span> m,<span>int</span> k,<span>int</span> num)</span></span>{	<span>if</span>(k&gt;m)	{		dfs(n,m,<span>2</span>,num);		<span>return</span>;	}	f[<span>1</span>][k]=<span>0</span>;<span>//没有反转 </span>	todfs(n,m,k+<span>1</span>,num);	f[<span>1</span>][k]=<span>1</span>;	 todfs(n,m,k+<span>1</span>,num+<span>1</span>);	 f[<span>1</span>][k]=<span>1</span>;}<span><span>int</span> <span>main</span><span>()</span></span>{	<span>int</span> n,m;	<span>cin</span>&gt;&gt;n&gt;&gt;m;	<span>for</span>(<span>int</span> i=<span>1</span>;i&lt;=n;i++)	{		<span>for</span>(<span>int</span> j=<span>1</span>;j&lt;=m;j++)		{			<span>cin</span>&gt;&gt;g[i][j];		}	}	todfs(n,m,<span>1</span>,<span>0</span>);	<span>if</span>(minn==<span>0x3f3f3f3f</span>)	<span>cout</span>&lt;&lt;<span>\"IMPOSSIBLE\"</span>&lt;&lt;<span>endl</span>;	<span>else</span>	{		<span>for</span>(<span>int</span> i=<span>1</span>;i&lt;=n;i++)		{			<span>for</span>(<span>int</span> j=<span>1</span>;j&lt;=m;j++)			<span>cout</span>&lt;&lt;ans[i][j]&lt;&lt;<span>\' \'</span>;			<span>cout</span>&lt;&lt;<span>endl</span>;		}	}		<span>return</span> <span>0</span>; } </code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><br></p></blockquote>', '2018-03-06 22:02:00', '2019-11-26 22:02:00', 'Acm', 0, 5);
INSERT INTO `article` VALUES (10, '矩阵快速幂（poj 3070）', '    Fibonacci     Time Limit: 1000MS	     	Memory Limit: 65536K     Total Submissions: 19397	     	Accepted: 13420      Descrip...', '<blockquote><p>Fibonacci<br></p><table align=\"center\"><tbody><tr><td><strong>Time Limit:</strong> 1000MS</td><td><br></td><td><strong>Memory Limit:</strong> 65536K</td></tr><tr><td><strong>Total Submissions:</strong> 19397</td><td><br></td><td><strong>Accepted:</strong> 13420</td></tr></tbody></table><p>Description</p><p>In the Fibonacci integer sequence, <em>F</em>0 = 0, <em>F</em>1 = 1, and <em>Fn</em> = <em>Fn</em> − 1 + <em>Fn</em> − 2 for <em>n</em> ≥ 2. For example, the first ten terms of the Fibonacci sequence are:<br></p><p>0, 1, 1, 2, 3, 5, 8, 13, 21, 34, …</p><p>An alternative formula for the Fibonacci sequence is</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" false\"=\"\"><img alt=\"\" src=\"https://imgconvert.csdnimg.cn/aHR0cDovL3Bvai5vcmcvaW1hZ2VzLzMwNzBfMS5wbmc?x-oss-process=image/format,png\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span>.</p><p>Given an integer <em>n</em>, your goal is to compute the last 4 digits of <em>Fn</em>.</p><p>Input</p><p>The input test file will contain multiple test cases. Each test case consists of a single line containing n (where 0 ≤ <em>n</em> ≤ 1,000,000,000). The end-of-file is denoted by a single line containing the number −1.</p><p>Output</p><p>For each test case, print the last four digits of <em>Fn</em>. If the last four digits of <em>Fn</em> are all zeros, print ‘0’; otherwise, omit any leading zeros (i.e., print <em>Fn</em> mod 10000).</p><p>Sample Input</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code>099999999991000000000-1</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>Sample Output</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code>0346266875</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>Hint</p><p>As a reminder, matrix multiplication is associative, and the product of two 2 × 2 matrices is given by</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" false\"=\"\"><img alt=\"\" src=\"https://imgconvert.csdnimg.cn/aHR0cDovL3Bvai5vcmcvaW1hZ2VzLzMwNzBfMi5wbmc?x-oss-process=image/format,png\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span>.</p><p>Also, note that raising any 2 × 2 matrix to the 0th power gives the identity matrix:</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" false\"=\"\"><img alt=\"\" src=\"https://imgconvert.csdnimg.cn/aHR0cDovL3Bvai5vcmcvaW1hZ2VzLzMwNzBfMy5naWY\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span>.</p></blockquote><p><br></p><p>如：在斐波那契数列之中</p><p>f[i] = 1*f[i-1]+1*f[i-2] &nbsp;f[i-1] = 1*f[i-1] + 0*f[i-2];</p><p>即<span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdn.net/20161004200323252?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>所以</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdn.net/20161004200246626?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>就这两幅图完美诠释了斐波那契数列如何用矩阵来实现。</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>//POJ3070</span><span>//快速矩阵幂算法 </span><span>//fibonacci 由于给出的n特别大，所有常用的遍及行不通，</span><span>//通过推导矩阵幂的方程进而更方便实现 ，在mul_mat中注意要求模数据太大了 </span><span>#<span>include</span> <span>\"iostream\"</span></span><span>#<span>include</span> <span>\"algorithm\"</span></span><span>#<span>include</span> <span>\"cstdio\"</span></span><span>#<span>include</span><span>\"cstring\"</span></span><span>#<span>define</span> rep(i,j,k) for(int i=j;i&lt;=k;i++)</span><span>const</span> <span>int</span> mod=<span>1e4</span>;<span>typedef</span> <span>long</span> <span>long</span> LL;<span>using</span> <span>namespace</span> <span>std</span>;<span><span>struct</span> <span>mat</span>{</span>	LL a[<span>2</span>][<span>2</span>];};<span>//记得加引号 </span><span>mat <span>mul_mat</span><span>(mat &amp;a,mat &amp;b)</span></span>{	mat res;	<span>memset</span>(res.a,<span>0</span>,<span>sizeof</span>(res.a)); 	rep(i,<span>0</span>,<span>1</span>)		rep(j,<span>0</span>,<span>1</span>)			rep(k,<span>0</span>,<span>1</span>)			{				res.a[i][j]=res.a[i][j]+a.a[i][k]*b.a[k][j]%mod;			}	<span>return</span> res;}<span><span>void</span> <span>pow_mat</span><span>(<span>int</span> n)</span></span>{	mat res,a;	a.a[<span>0</span>][<span>0</span>]=a.a[<span>0</span>][<span>1</span>]=a.a[<span>1</span>][<span>0</span>]=<span>1</span>;	a.a[<span>1</span>][<span>1</span>]=<span>0</span>;	<span>//注意尽管结构体是在全局定义的，但是不论是数组还是int都不会被初始化为0</span>	<span>memset</span>(res.a,<span>0</span>,<span>sizeof</span>(res.a)); 	res.a[<span>0</span>][<span>0</span>]=<span>1</span>,res.a[<span>1</span>][<span>1</span>]=<span>1</span>;	<span>//初始化完毕 </span>	<span>while</span>(n)	{		<span>if</span>(n&amp;<span>1</span>) res=mul_mat(a,res);<span>//试过了，在矩阵中对于单位矩阵，换下位置没关系</span>		a=mul_mat(a,a);<span>//如mul_mat(res,a);</span>		n&gt;&gt;=<span>1</span>;	}	<span>cout</span>&lt;&lt;res.a[<span>0</span>][<span>0</span>]%mod&lt;&lt;<span>endl</span>;}<span><span>int</span> <span>main</span><span>()</span></span>{	<span>int</span> n;	<span>while</span>(<span>cin</span>&gt;&gt;n&amp;&amp;n!=<span>-1</span>)	{		<span>if</span>(n==<span>0</span>)		{			<span>cout</span>&lt;&lt;<span>\"0\"</span>&lt;&lt;<span>endl</span>;			<span>continue</span>;		}		pow_mat(n<span>-1</span>);	}		<span>return</span> <span>0</span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>&nbsp;注意：大数，结构体后面的引号，结构体要初始化里面的值</h3><h3>算法必须得写，看懂了远远不够，这些权当笔记</h3><h2>that\'s all</h2>', '2018-04-01 20:03:02', '2019-11-26 22:03:02', 'Acm', 0, 5);
INSERT INTO `article` VALUES (11, '关于线段树的理解（一些注意的小细节）', '     以下块代码线段数的查询过程：      很妙的就是本来数据是被放在一个正常不过的数组中，但是通过线段树的实现就将数据存到用一个特殊数组储存的线段树中了，你会发现存入以后不管是改值还是查询都于之前的那个正常的数组无关了，      那如何定位需要...', '<blockquote><h3>&nbsp;以下块代码线段数的查询过程：<br></h3><p><span>很妙的就是本来数据是被放在一个正常不过的数组中，但是通过线段树的实现就将数据存到用一个特殊数组储存的线段树中了，你会发现存入以后不管是改值还是查询都于之前的那个正常的数组无关了，</span><br></p><p><span>那如何定位需要查询的范围呢？</span></p><p><span>以下就是通过rt来代表当前操作的位置，值得注意的是每次开始rt都是从1开始，然后左节点1*2，右节点1*2+1，如此反复即可遍历所有线段树，从而查询</span></p></blockquote><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span><span>int</span> <span>Query</span><span>(<span>int</span> L,<span>int</span> R,<span>int</span> l,<span>int</span> r,<span>int</span> rt)</span></span>{<span>//[L,R]表示操作区间，[l,r]表示当前区间，rt:当前节点编号</span>    <span>if</span>(L &lt;= l &amp;&amp; r &lt;= R){         <span>//在区间内直接返回</span>        <span>return</span> Sum[rt];     <span>int</span> m=(l+r)&gt;&gt;<span>1</span>;      <span>//左子区间:[l,m] 右子区间：[m+1,r]  求和区间:[L,R]</span>   <span>//累加答案</span>    <span>int</span> ANS=<span>0</span>;      <span>if</span>(L &lt;= m) ANS+=Query(L,R,l,m,rt&lt;&lt;<span>1</span>);<span>//左子区间与[L,R]有重叠，递归</span>    <span>if</span>(R &gt;  m) ANS+=Query(L,R,m+<span>1</span>,r,rt&lt;&lt;<span>1</span>|<span>1</span>); <span>//右子区间与[L,R]有重叠，递归</span>    <span>return</span> ANS;  }   </code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><blockquote><br></blockquote><blockquote><p>&nbsp;像上面的ans，如果要对ans在递归中实现求和操作，我们可以直接在函数中定义ans注意：千万不要在函数中另外加一个参数ans，这样会导致返回值就是初始化的</p></blockquote><h3>而且注意return 在这里上下都要有return ！！！</h3><h3>像如下代码中search中的min1就不可以让其作为参数</h3><h3>min1不能像上面ans一样返回，就像下面的代码就好了</h3><h3>插入一个：</h3><p>像下面maxn=1e5+5;c++中可以兼容，但是有的编译器会报错，1e5返回的是double，这种情况下int(1e5+5)即可</p><hr><blockquote><h3>计蒜客线段树专题：”忠诚的管家“</h3></blockquote><blockquote><p>老管家是一个聪明能干的人。他为财主工作了整整10年，财主为了让自已账目更加清楚。要求管家每天记k次账，由于管家聪明能干，因而管家总是让财主十分满意。但是由于一些人的挑拨，财主还是对管家产生了怀疑。于是他决定用一种特别的方法来判断管家的忠诚，他把每次的账目按1，2，3…编号，然后不定时的问管家问题，问题是这样的：在a到b号账中最少的一笔是多少？为了让管家没时间作假他总是一次问多个问题。</p><p>输入中第一行有两个数m,n表示有m(m&lt; =100000)笔账,n表示有n个问题，n&lt; =100000。 第二行为m个数,分别是账目的钱数 后面n行分别是n个问题,每行有2个数字说明开始结束的账目编号。</p><p>输出文件中为每个问题的答案。具体查看样例。</p><p><br></p><p>样例输入复制</p><pre id=\"id0054455109168620640002\" language-html=\"\" hljs\"=\"\">10 3<br>1 2 3 4 5 6 7 8 9 10<br>2 7<br>3 9<br>1 10<br></pre><p>样例输出复制</p><pre id=\"id0091735575033019550004\" language-html=\"\" hljs\"=\"\">2 3 1</pre></blockquote><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>#<span>include</span> <span>\"bits/stdc++.h\"</span></span><span>#<span>define</span> rep(i,j,k) for(int i=j;i&lt;=k;i++) </span><span>#<span>define</span> inf 1e9+5</span><span>using</span> <span>namespace</span> <span>std</span>;<span>const</span> <span>int</span> maxn = <span>1e5</span>+<span>5</span>;<span>int</span> a[maxn],tree[maxn&lt;&lt;<span>2</span>];<span>int</span> m,n,min1;<span><span>void</span> <span>pushup</span><span>(<span>int</span> rt)</span></span>{	<span>int</span> min1=min(tree[rt&lt;&lt;<span>1</span>],tree[rt&lt;&lt;<span>1</span>|<span>1</span>]);	tree[rt]=min1;}<span><span>void</span> <span>build</span><span>(<span>int</span> l,<span>int</span> r,<span>int</span> rt)</span></span>{	<span>if</span>(l==r)	{		tree[rt]=a[l];		<span>return</span>;	} 	<span>int</span> m=(l+r)&gt;&gt;<span>1</span>;	build(l,m,rt&lt;&lt;<span>1</span>);	build(m+<span>1</span>,r,rt&lt;&lt;<span>1</span>|<span>1</span>);	pushup(rt);}<span><span>int</span> <span>search</span><span>(<span>int</span> L,<span>int</span> R,<span>int</span> l,<span>int</span> r,<span>int</span> rt)</span><span>//L,R表示当前大小 </span></span>{	<span>if</span>(l&lt;=L&amp;&amp;r&gt;=R)	{		min1 = min(min1,tree[rt]);		<span>return</span> min1;	}	<span>int</span> m = (L+R)&gt;&gt;<span>1</span>;	<span>if</span>(m&gt;=l) search(L,m,l,r,rt&lt;&lt;<span>1</span>);	<span>if</span>(m&lt;r) search(m+<span>1</span>,R,l,r,rt&lt;&lt;<span>1</span>|<span>1</span>);	<span>return</span> min1;}<span><span>int</span> <span>main</span><span>()</span></span>{	<span>cin</span>&gt;&gt;n&gt;&gt;m;	rep(i,<span>1</span>,n)	<span>cin</span>&gt;&gt;a[i];	build(<span>1</span>,n,<span>1</span>);			<span>int</span> a1[maxn],b1[maxn];			<span>int</span> ans[maxn];	rep(i,<span>1</span>,m)	{		<span>cin</span>&gt;&gt;a1[i]&gt;&gt;b1[i];		min1=inf;		 ans[i]=search(<span>1</span>,n,a1[i],b1[i],<span>1</span>);	}	rep(i,<span>1</span>,m)	{		<span>cout</span>&lt;&lt;ans[i];		<span>if</span>(i!=m)		<span>cout</span>&lt;&lt;<span>\" \"</span>;	}	<span>return</span> <span>0</span>;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>人生苦短，好好学习！</h3>', '2018-06-30 22:03:42', '2019-11-26 22:03:42', 'Acm', 0, 5);
INSERT INTO `article` VALUES (12, 'ACM-ICPC 2018 焦作赛区网络预赛 G Give Candies（大数求模，快速幂，欧拉降幂）', 'There are NN children in kindergarten. Miss Li bought them NN candies. To make the process more interesting, Miss Li comes up w...', '<p>There are&nbsp;NN&nbsp;children in kindergarten. Miss Li bought them&nbsp;NN&nbsp;candies. To make the process more interesting, Miss Li comes up with the rule: All the children line up according to their student number&nbsp;(1...N)(1...N), and each time a child is invited, Miss Li randomly gives him some candies (at least one). The process goes on until there is no candy. Miss Li wants to know how many possible different distribution results are there.<br></p><h3>Input</h3><p>The first line contains an integer&nbsp;TT, the number of test case.<br></p><p>The next&nbsp;TT&nbsp;lines, each contains an integer&nbsp;NN.</p><p>1 \\le T \\le 1001≤T≤100</p><p>1 \\le N \\le 10^{100000}1≤N≤10100000</p><h3>Output</h3><p>For each test case output the number of possible results&nbsp;<strong>(mod 1000000007)</strong>.</p><p>样例输入复制</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre id=\"id00291913013268133350002\"><code>14</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>样例输出复制</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre id=\"id0032530462127954450004\"><code>8</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p>题目来源</p><p><a href=\"https://nanti.jisuanke.com/?kw=ACM-ICPC%202018%20%E7%84%A6%E4%BD%9C%E8%B5%9B%E5%8C%BA%E7%BD%91%E7%BB%9C%E9%A2%84%E8%B5%9B\">ACM-ICPC 2018 焦作赛区网络预赛</a></p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre0\')%res;\\n\\t\\t}\\n\\t\\ta+=res; 注意定义要定义成ll，在大整数中=\"\" \\n\\t\\tll=\"\" ans=\"q(2,a,mod);\" \\n\\t\\tcout&amp;lt;&amp;lt;ans&amp;lt;&amp;lt;endl;\\n\\t}\\n\\treturn=\"\" 0;\\n}&amp;quot;,&amp;quot;classes&amp;quot;:{&amp;quot;has&amp;quot;:1}}\"=\"\"><code><span>#<span>include</span> <span>\"bits/stdc++.h\"</span></span><span>typedef</span> <span>long</span> <span>long</span> LL;<span>const</span> <span>int</span> maxn=<span>1e6</span>+<span>5</span>;<span>using</span> <span>namespace</span> <span>std</span>;<span>#<span>define</span> rep(i,j,k) for(int i=j;i&lt;k;i++)</span><span>LL <span>ol</span><span>(LL x)</span><span>//欧拉定理：降幂定理， </span></span>{<span>//该函数用来返回与x在（1，x-1）中互质的个数 </span>	<span>int</span> res=x;	<span>for</span>(<span>int</span> i=<span>2</span>;i*i&lt;=x;i++)	{		<span>if</span>(x%i==<span>0</span>)		{			res=res-res/i;			<span>while</span>(x%i==<span>0</span>)			{				x/=i;			}		}		<span>if</span>(x&gt;<span>1</span>)		res=res-res/x;	}	<span>return</span> res;}<span>LL <span>q</span><span>(LL x,LL y,LL MOD)</span><span>//快速幂算法 </span></span>{	LL res=<span>1</span>;	<span>while</span>(y)	{		<span>if</span>(y%<span>2</span>)			res=res*x%MOD;		x=x*x%MOD;		y/=<span>2</span>;	}	<span>return</span> res;}<span><span>int</span> <span>main</span><span>()</span></span>{	<span>int</span> t;	<span>cin</span>&gt;&gt;t;	<span>while</span>(t--)	{		<span>char</span> m[maxn];		LL mod=<span>1e9</span>+<span>7</span>;		<span>scanf</span>(<span>\"%s\"</span>,m);		<span>int</span> count=<span>1</span>;		<span>while</span>(m[<span>strlen</span>(m)-count]==<span>0</span>)		{			count++;		}		m[<span>strlen</span>(m)-count]--;		LL res=ol(mod);		LL a=<span>0</span>;<span>//最操蛋的事情就是这个a了，由于疏忽使用的是int a,导致修了一个小时的bug才ac，超难受的</span><span>//以后大数一定要注意定义为long long</span>		rep(i,<span>0</span>,<span>strlen</span>(m))		{			a=(a*<span>10</span>+m[i]-<span>\'0\'</span>)%res;		}		a+=res;<span>//注意定义要定义成LL，在大整数中 </span>		LL ans=q(<span>2</span>,a,mod); 		<span>cout</span>&lt;&lt;ans&lt;&lt;<span>endl</span>;	}	<span>return</span> <span>0</span>;}</code><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></pre0\')%res;\\n\\t\\t}\\n\\t\\ta+=res;></div><h3>注意：</h3><h2>简单来说：就是求2的n-1次方对1e9+7求模；</h2><h2>设计算法：大数求模，快速幂，欧拉降幂</h2><blockquote><h3>快速幂算法：</h3><p>求解a^b%mod,返回值即为答案</p><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>LL <span>mod_pow</span><span>(LL a,LL b,LL mod)</span></span>{	<span>int</span> res=<span>1</span>;	<span>while</span>(b&gt;<span>0</span>)	{		<span>if</span>(b&amp;<span>1</span>) res=res*a%mod;<span>//如果是奇数，则运行 </span>		a=a*a%mod;		b&gt;&gt;=<span>1</span>; 	}	<span>return</span> res;}<span>//上下两个算法实现一样功能，算法复杂度均为log（n）</span><span>LL <span>mod_pow</span><span>(LL a,LL b,LL mod)</span></span>{	<span>if</span>(b==<span>0</span>) <span>return</span> <span>1</span>;	LL res=mod_pow(a*a%mod,b/<span>2</span>,mod);	<span>if</span>(b&amp;<span>1</span>) res=res*a%mod;	<span>return</span> res;}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><p><br></p></blockquote><p>a的b次方余c，然而b是一个超大整数，远远大于long long 的表示范围，但是你用大整数乘法也做不了，</p><p>因为要取模。。。。呢就直接切入正题好了，既然幂次很大，呢肯定是要降幂了，其实做这道题你就能想到</p><p>肯定有一种降幂公式，因为要用到欧拉函数，呢这里就讲一下欧拉函数的具体概念及其求法好了。。。</p><p><br></p><p><br></p><p>欧拉函数是指：对于一个正整数n，小于n且和n互质的正整数（包括1）的个数，记作φ(n) 。</p><p><br></p><p>通式：φ(x)=x*(1-1/p1)*(1-1/p2)*(1-1/p3)*(1-1/p4)…..(1-1/pn),其中p1, p2……pn为x的所有质因数，x是不为0的整数。φ(1)=1（唯一和1互质的数就是1本身）。</p><p>对于质数p，φ(p) = p - 1。注意φ(1)=1.</p><p>欧拉定理：对于互质的正整数a和n，有aφ(n) ≡ 1 mod n。</p><p><br></p><p>欧拉函数是<a href=\"http://baike.baidu.com/view/2046973.htm\">积性函数</a>——</p><p>若m,n互质，φ(mn)=φ(m)φ(n)。</p><p>若n是质数p的k次幂，φ(n)=p^k-p^(k-1)=(p-1)p^(k-1)，因为除了p的倍数外，其他数都跟n互质。</p><p><br></p><p>特殊性质：当n为奇数时，φ(2n)=φ(n)</p><p>欧拉函数还有这样的性质：</p><p>设a为N的质因数，若(N % a == 0 &amp;&amp; (N / a) % a == 0) 则有E(N)=E(N / a) * a；若(N % a == 0 &amp;&amp; (N / a) % a != 0) 则有：E(N) = E(N / a) * (a - 1)。</p><h3>降幂公式：<span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" false\"=\"\"><img alt=\"\" src=\"https://imgconvert.csdnimg.cn/aHR0cDovL2ltYWdlczIwMTUuY25ibG9ncy5jb20vYmxvZy83ODY5NDUvMjAxNjExLzc4Njk0NS0yMDE2MTEyMjIxNDI0ODM0Ni02MzM0Nzg5NjEuZ2lm\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span>&nbsp; &nbsp; （降幂公式中 phi() 为欧拉函数）</h3><h3><span>凌晨2点于南昌航空大学3栋405完成！</span></h3><p><br></p>', '2017-12-17 22:04:22', '2019-11-26 22:04:22', 'Acm', 0, 5);
INSERT INTO `article` VALUES (13, 'NumPy中ndarray类型属性、创建和变换', '    Recommend:             First,I highly recommend 嵩天\'s classes which is pretty good for guys like us .     Yeah,I have learn ...', '<blockquote><h2>Recommend:<br></h2><h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; First,I highly recommend 嵩天\'s classes which is pretty good for guys like us .</h3><h3>Yeah,I have learn a lot from that gentle and tender young man . So,come and learn<br></h3><h3>python with us .</h3><p><br></p><h3><a href=\"https://www.icourse163.org/learn/BIT-1001870002?tid=1206192225#/learn/content?type=detail&amp;id=1210784853&amp;cid=1213173497&amp;replay=true\">https://www.icourse163.org/learn/BIT-1001870002?tid=1206192225#/learn/content?type=detail&amp;id=1210784853&amp;cid=1213173497&amp;replay=true&nbsp; </a></h3><h3>Click this you will enter into songtian\'s classes .</h3><h3><a href=\"https://python123.io/index/open\">https://python123.io/index/open</a></h3><h3>A platform for practice .</h3><p><br></p><h2>Point:</h2><p><br></p><h3>ndarray的属性：<br>&nbsp;.ndim<br>&nbsp;.shape<br>&nbsp;.size<br>&nbsp;.dtype<br>&nbsp;.itemsize</h3><p><br></p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190619205004852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"650\" height=\"336\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span><h3>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190619204943188.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"570\" height=\"598\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></h3><p><br></p><h3>ndarray的创建：<br>&nbsp;&nbsp;&nbsp; 前提import numpy as np&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp;&nbsp; np.array()<br>&nbsp;&nbsp;&nbsp; np.arrange()<br>&nbsp;&nbsp;&nbsp; np.ones(shape)<br>&nbsp;&nbsp;&nbsp; np.zeros()<br>&nbsp;&nbsp;&nbsp; np.full(shape,val)<br>&nbsp;&nbsp;&nbsp; np.ones_like(a)<br>&nbsp;&nbsp;&nbsp; np.zeros_like(a)<br>&nbsp;&nbsp;&nbsp; np.full_like(a,val)</h3><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190619205518468.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"617\" height=\"325\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190619205558911.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"650\" height=\"302\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190619205613314.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"547\" height=\"364\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190619205629705.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"629\" height=\"312\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190619205702190.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"656\" height=\"792\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p><br></p><h3>ndarray的变换：<br>&nbsp;&nbsp;&nbsp; .reshape()<br>&nbsp;&nbsp;&nbsp; .resize()<br>&nbsp;&nbsp;&nbsp; .flatten()</h3><h3>&nbsp;&nbsp;&nbsp; .astype()</h3><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190620104636107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"537\" height=\"397\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><h3>See you next time , ciao !</h3></blockquote><h3><br></h3><p><br></p>', '2018-10-11 22:05:34', '2019-11-26 22:05:34', 'Python', 0, 8);
INSERT INTO `article` VALUES (14, 'Numpy数据存取与函数总结', '随机函数：      np.random.rand()     np.random.randint()     np.random.randn()     np.random.seed()     np.random.shuffle()     np.r...', '<h3>随机函数：<br></h3><blockquote><h3>np.random.rand()<br></h3><h3>np.random.randint()<br></h3><h3>np.random.randn()</h3><h3>np.random.seed()</h3><h3>np.random.shuffle()</h3><h3>np.random.permutation()</h3><h3>np.random.choice()</h3></blockquote><h3>统计函数：</h3><blockquote><h3>Numpy的统计函数：</h3><h3>np.sum()</h3><h3>np.mean()</h3><h3>np.average()</h3><h3>np.std()</h3><h3>np.var()</h3><h3>np.min()</h3><h3>np.max()</h3><h3>np.argmin()<br>Numpy的梯度函数：</h3><h3>np.gradient()</h3></blockquote>', '2018-10-25 22:06:56', '2019-11-26 22:06:56', 'Python', 0, 8);
INSERT INTO `article` VALUES (15, 'Numpy文件的存取（三种常用方式）', 'CSV文件存取：      CSV是一种很常见的文件格式，用来储存批量数据   CSV文件只能存储二维信息，所以tofile出来了！ ！ ！ DAT文件存取：          NPY文...', '<h3>CSV文件存取：<br></h3><blockquote><p>CSV是一种很常见的文件格式，用来储存批量数据<br></p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190620102151202.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"895\" height=\"551\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></blockquote><blockquote><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190620102229527.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"1019\" height=\"561\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></blockquote><p>&nbsp;CSV文件只能存储二维信息，所以tofile出来了！ ！ ！</p><h3>DAT文件存取：</h3><blockquote><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190620102531687.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"812\" height=\"314\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p></blockquote><blockquote><p>&nbsp;<span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190620102605571.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"860\" height=\"386\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p></blockquote><h3>&nbsp;NPY文件存取：</h3><blockquote><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190620102706407.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"811\" height=\"473\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p></blockquote>', '2018-11-29 22:07:36', '2019-11-26 22:07:36', 'Python', 0, 8);
INSERT INTO `article` VALUES (16, 'acm电子资料分享（包括紫书，白书，啊哈算法）', '链接：https://pan.baidu.com/s/1wAjvj4juFFIzXO322olSVQ 提取码：aqbg  作为一个acm菜鸡，空有那那那那么多的资料，有些挺好的又没时间看，故此分享给acm刚入门的伙伴们  emmmmmmmm，acm一途深...', '<p>链接：https://pan.baidu.com/s/1wAjvj4juFFIzXO322olSVQ<br>提取码：aqbg<br></p><p>作为一个acm菜鸡，空有那那那那么多的资料，有些挺好的又没时间看，故此分享给acm刚入门的伙伴们</p><p>emmmmmmmm，acm一途深似海</p><p>Life is fantastic , come on ! ! !</p>', '2019-01-10 22:08:53', '2019-11-26 22:08:53', 'Share', 0, 9);
INSERT INTO `article` VALUES (17, 'adobe全套破解分享（当然包括ps，pr）', '    l bought it from taobao and feeling so good ! ! !      As a OG in computer science and technology majoy , l am sure to give...', '<p></p><blockquote><p>l bought it from taobao and feeling so good ! ! !<br></p><p>As a OG in computer science and technology majoy , l am sure to give you guys these !</p><p>And last ,PEACE and LOVE<br></p><p>Respect !</p><p><br></p><p>链接：https://pan.baidu.com/s/1J7zhRTgamjLL3PCOylAEeQ<br>提取码：nqrb</p></blockquote><p><br></p>', '2019-02-06 22:10:06', '2019-11-26 22:10:06', 'Share', 0, 9);
INSERT INTO `article` VALUES (18, 'WEB开发视频资源分享', '链接：https://pan.baidu.com/s/12ieMIBcsmickVW9pmMK8vg 提取码：dff7  前提：  需掌握服务端基本技术：servlet，jsp，el&stl，tomcat，request&response  需掌握前端：...', '<p></p><p>链接：https://pan.baidu.com/s/12ieMIBcsmickVW9pmMK8vg<br>提取码：dff7<br></p><p><strong>前提：</strong></p><p><strong>需掌握服务端基本技术：servlet，jsp，el&amp;stl，tomcat，request&amp;response</strong></p><p><strong>需掌握前端：html&amp;css，适合web已简单入门的小伙</strong></p><p><strong>视屏开发环境eclipse，简单开发一个商城主页</strong></p><p><br></p>', '2019-03-26 22:11:00', '2019-11-26 22:11:00', 'Share', 0, 9);
INSERT INTO `article` VALUES (19, 'LIS（最长上升子序列）问题的三种求解方法以及一些例题', 'https://blog.csdn.net/George__Yu/article/details/75896330   注册表：https://blog.csdn.net/weixin_42419856/article/details/81213704 ...', '<p><a href=\"https://blog.csdn.net/George__Yu/article/details/75896330\">https://blog.csdn.net/George__Yu/article/details/75896330</a><br></p><p><br></p><h3>注册表：<a href=\"https://blog.csdn.net/weixin_42419856/article/details/81213704\">https://blog.csdn.net/weixin_42419856/article/details/81213704</a></h3><h3>修改服务路径：</h3><p>根据路径HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\，找到你想改路径的服务，也可以利用注册表自带的搜索功能，查找你想要修改的路径，ImagePath<br></p><h3>unicode、utf-8、GBK（GBK2312）编码详解：</h3><p>https://blog.csdn.net/airjordon/article/details/82699223<br>https://www.cnblogs.com/gavin-num1/p/5170247.html</p><h3>Burpsuite环境配置及使用：</h3><p><br></p><p>https://blog.csdn.net/m0_37268841/article/details/79557765</p><p><br></p><h3>gihub使用介绍：</h3><p><a href=\"https://blog.csdn.net/u011304078/article/details/82935961\">https://blog.csdn.net/u011304078/article/details/82935961</a></p><p><a href=\"http://www.cnblogs.com/schaepher/p/4933873.html\">http://www.cnblogs.com/schaepher/p/4933873.html</a></p>', '2017-10-29 22:11:56', '2019-11-26 22:11:56', 'Acm', 0, 5);
INSERT INTO `article` VALUES (20, 'Ubuntu实用的几个简单的快捷键（另：附加window10系统的快捷键）', 'Ubuntu快捷键：      alt+tab 当前桌面不同程序间的切换      super+d 桌面与程序间的切换（super在linux中就是window的窗口按钮）      super+a 搜索或浏览程序      ctrl+alt+t 启...', '<h3>Ubuntu快捷键：<br></h3><blockquote><p>alt+tab 当前桌面不同程序间的切换</p><p>super+d 桌面与程序间的切换（super在linux中就是window的窗口按钮）<br></p><p>super+a 搜索或浏览程序</p><p>ctrl+alt+t 启动终端</p><p>tab 命令或文件名自动补全</p><p>ctrl+shift+c 复制</p><p>ctrl+shift+v 粘贴</p><p>ctrl+super 实现输入法的转化（自己可以设置热键）</p><p><br></p><h3>常用Gedit编辑器快捷键</h3><p><br>Ctrl + N：新建文档<br>Ctrl + W：关闭文档<br>Ctrl + S：保存文档<br>Ctrl + Shift + S：另存为<br>Ctrl + F：搜索<br>Ctrl + H：搜索并替换<br>Ctrl + I：跳到某一行<br>Ctrl + C：复制<br>Ctrl + V：粘贴<br>Ctrl + X：剪切<br>Ctrl + Q：退出</p></blockquote><h3>&nbsp;window10快捷键：</h3><blockquote><p>win+r 打开命令提示符</p><p>win+d 实现桌面与程序之间的转化</p><p>win+w 转化为桌面界面</p><p>win+e 转化为文件资源管理器</p><p>win+x 可以进入很多系统设置</p><p>ctrl+space 实现输入法之间的转化</p><p>ctrl+shift+n 新建文件夹</p><p>ctrl+c 复制</p><p>ctrl+v 粘贴</p><p>alt+tab 当前桌面不同程序间的切换</p><p>ctrl+alt+delete 可以进入任务管理器</p><p>在文件资源管理器里面右键“此电脑”，选择“管理”进入计算机管理界面</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190111145349191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" height=\"885\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>在文件资源管理器空白的地方点击右键，选择属性，进入控制面板系统设置，在这里可以对“高级系统设置”中的环境变量进行配置，也可以开启远程桌面连接，很常用！！！</p></blockquote><h3>分享到此为止，快捷键我常用的大概就是这些了！！！&nbsp;</h3><blockquote><h3>另：笔记，</h3><p>1，每个图片有自己相应的分辨率</p><p>2，每个显示器有自己的分辨率</p><p>3，像素点的大小由特定显示器而定，不确定大小的</p></blockquote>', '2019-06-27 22:12:37', '2019-11-26 22:12:37', 'Others', 0, 6);
INSERT INTO `article` VALUES (21, 'java三大集合框架 :  set、list、map', '         详解见https://blog.csdn.net/weixin_39464761/article/details/75137902  java三大集合框架 :  set  list   map   1、set list 都属于colle...', '<h2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 详解见<a href=\"https://blog.csdn.net/weixin_39464761/article/details/75137902\">https://blog.csdn.net/weixin_39464761/article/details/75137902</a><br></h2><h2><br></h2><h2>java三大集合框架 :&nbsp; set&nbsp; list&nbsp;&nbsp; map<br></h2><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190627215500821.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"1008\" height=\"597\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><h3>&nbsp;1、set list 都属于collection的子接口(collection为顶层接口) ，Map 不属于collection接口</h3><p><br></p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190627215751496.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"600\" height=\"354\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><h3>2、Map接口:</h3><h3>Map是一种把键对象和值对象映射的集合，它的每一个元素都包含一对键对象和值对象。 Map没有继承于Collection接口 从Map集合中检索元素时，只要给出键对象，就会返回对应的值对象。</h3>', '2018-02-22 22:13:59', '2019-11-26 22:13:59', 'Java', 0, 10);
INSERT INTO `article` VALUES (22, 'Java爬虫更新mysql数据库（简单事例）', 'http://webmagic.io/docs/zh/posts/ch4-basic-page-processor/selectable.html webmagic官网文档解释   所需jar包： 以及webmagic（负责爬虫的jar包） 一般的jar...', '<h3><a href=\"http://webmagic.io/docs/zh/posts/ch4-basic-page-processor/selectable.html\">http://webmagic.io/docs/zh/posts/ch4-basic-page-processor/selectable.html</a><br></h3><h3>webmagic官网文档解释</h3><p><br></p><h3>所需jar包：</h3><h3><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190805232358487.png\" width=\"323\" height=\"114\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span>以及webmagic（负责爬虫的jar包）</h3><h3><a href=\"https://jar-download.com/\"><span>一般的jar包都在此网站找到</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; https://jar-download.com/&nbsp;&nbsp; </a></h3><h3>文件目录：</h3><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190805232225955.png\" width=\"297\" height=\"147\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 对于复杂的爬虫采取如上简单的分包。</p><blockquote><h3>&nbsp;c3p0-config.xml：</h3><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span><span>&lt;?</span>xml version=<span>\"1.0\"</span> encoding=<span>\"UTF-8\"</span><span>?&gt;</span></span><span>&lt;<span>c3p0-config</span>&gt;</span>	<span>&lt;<span>default-config</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"driverClass\"</span>&gt;</span>com.mysql.jdbc.Driver<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;!-- &lt;property name=\"jdbcUrl\"&gt;jdbc:mysql:///web15&lt;/property&gt; --&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"jdbcUrl\"</span>&gt;</span>jdbc:mysql://localhost:3306/pachong?serverTimezone=UTC<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;!-- &amp;amp;useSSL=false --&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"user\"</span>&gt;</span>root<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"password\"</span>&gt;</span>123456<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"initialPoolSize\"</span>&gt;</span>5<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"maxPoolSize\"</span>&gt;</span>20<span>&lt;/<span>property</span>&gt;</span>	<span>&lt;/<span>default-config</span>&gt;</span>	<span>&lt;<span>named-config</span> <span>name</span>=<span>\"itheima\"</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"driverClass\"</span>&gt;</span>com.mysql.jdbc.Driver<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"jdbcUrl\"</span>&gt;</span>jdbc:mysql:///web15<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"user\"</span>&gt;</span>root<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"password\"</span>&gt;</span>123456<span>&lt;/<span>property</span>&gt;</span>	<span>&lt;/<span>named-config</span>&gt;</span>	<span>&lt;<span>named-config</span> <span>name</span>=<span>\"experiment\"</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"driverClass\"</span>&gt;</span>com.mysql.jdbc.Driver<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"jdbcUrl\"</span>&gt;</span>jdbc:mysql:///experiment<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"user\"</span>&gt;</span>root<span>&lt;/<span>property</span>&gt;</span>		<span>&lt;<span>property</span> <span>name</span>=<span>\"password\"</span>&gt;</span>123456<span>&lt;/<span>property</span>&gt;</span>	<span>&lt;/<span>named-config</span>&gt;</span><span>&lt;/<span>c3p0-config</span>&gt;</span></code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>JdongMain.java:</h3><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>package</span> jingdong.main;<span>import</span> java.sql.Connection;<span>import</span> java.sql.SQLException;<span>import</span> java.util.List;<span>import</span> javax.sql.DataSource;<span>import</span> org.apache.commons.dbutils.QueryRunner;<span>import</span> org.apache.commons.dbutils.handlers.BeanListHandler;<span>import</span> org.apache.http.impl.client.DefaultHttpClient;<span>import</span> org.junit.Test;<span>import</span> com.mchange.v2.c3p0.ComboPooledDataSource;<span>import</span> jingdong.model.JdModel;<span>import</span> jingdong.util.URLFerter;<span>public</span> <span><span>class</span> <span>JdongMain</span> </span>{		<span><span>public</span> <span>static</span> <span>void</span> <span>main</span><span>(String[] args)</span> </span>{				Connection conn = <span>null</span>;		System.setProperty(<span>\"com.mchange.v2.c3p0.cfg.xml\"</span>,<span>new</span> JdongMain().getClass().getClassLoader().getResource(<span>\"\"</span>).getPath() + <span>\"c3p0-config.xml\"</span>);		<span>//src下的c3p0路径</span>		DataSource dataSource = <span>new</span> ComboPooledDataSource();		<span>try</span> {			conn = dataSource.getConnection();		} <span>catch</span> (SQLException e) {			<span>// TODO Auto-generated catch block</span>			e.printStackTrace();		}		<span>//String url=\"http://search.jd.com/Search?keyword=Python&amp;enc=utf-8&amp;book=y&amp;wq=Python&amp;pvid=33xo9lni.p4a1qb\"; </span>		<span>//抓取的数据</span>		String url = <span>\"https://www.xhsd.com/activity/channel-renwensheke\"</span>;		List&lt;JdModel&gt; bookdatas = URLFerter.URLParser(url);				<span>/*for(JdModel jd:bookdatas) {			System.out.println(jd.getBookName());			System.out.println(jd.getBookPrice());		}*/</span>		<span>//System.out.println(bookdatas);</span>		System.out.println(<span>\"111111\"</span>);				QueryRunner runner = <span>new</span> QueryRunner();		String sql = <span>\"insert into bookinfo(bookName,bookPrice) value(?,?)\"</span>;		<span>for</span>(JdModel jd:bookdatas) {			<span>//System.out.println(jd);</span>			<span>try</span> {				runner.update(conn, sql,jd.getBookName(),jd.getBookPrice());			} <span>catch</span> (SQLException e) {				<span>// TODO Auto-generated catch block</span>				e.printStackTrace();			}		}	}}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>JdModel.java:</h3><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>package</span> jingdong.model;<span>public</span> <span><span>class</span> <span>JdModel</span> </span>{	<span>private</span> String bookID;	<span>private</span> String bookName;	<span>private</span> Double bookPrice;			<span><span>public</span> String <span>getBookID</span><span>()</span> </span>{		<span>return</span> bookID;	}	<span><span>public</span> <span>void</span> <span>setBookID</span><span>(String bookID)</span> </span>{		<span>this</span>.bookID = bookID;	}	<span><span>public</span> String <span>getBookName</span><span>()</span> </span>{		<span>return</span> bookName;	}	<span><span>public</span> <span>void</span> <span>setBookName</span><span>(String bookName)</span> </span>{		<span>this</span>.bookName = bookName;	}	<span><span>public</span> Double <span>getBookPrice</span><span>()</span> </span>{		<span>return</span> bookPrice;	}	<span><span>public</span> <span>void</span> <span>setBookPrice</span><span>(Double double1)</span> </span>{		<span>this</span>.bookPrice = double1;	}		}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>URLFerter.java:</h3><div tabindex=\"-1\" role=\"region\" aria-label=\"代码段 小部件\" contenteditable=\"false\"><pre><code><span>package</span> jingdong.util;<span>import</span> java.util.ArrayList;<span>import</span> java.util.List;<span>import</span> jingdong.model.JdModel;<span>import</span> us.codecraft.webmagic.Page;<span>import</span> us.codecraft.webmagic.Site;<span>import</span> us.codecraft.webmagic.Spider;<span>import</span> us.codecraft.webmagic.processor.PageProcessor;<span>public</span> <span><span>class</span> <span>URLFerter</span> <span>implements</span> <span>PageProcessor</span></span>{	<span>private</span> <span>static</span> <span>int</span> count = <span>1</span>;<span>//	private static String url;</span>	<span>private</span> <span>static</span> List&lt;JdModel&gt; jd = <span>new</span> ArrayList&lt;JdModel&gt;();		<span>@Override</span>	<span><span>public</span> Site <span>getSite</span><span>()</span> </span>{		<span>// TODO Auto-generated method stub</span>		Site site = Site.me();		site.setTimeOut(<span>3000</span>);		site.setRetrySleepTime(<span>3</span>);		site.setSleepTime(<span>1000</span>);		<span>return</span> site;	}	<span>@Override</span>	<span><span>public</span> <span>void</span> <span>process</span><span>(Page page)</span> </span>{		<span>// TODO Auto-generated method stub</span>		<span>if</span> (count==<span>1</span>) {			List&lt;String&gt; all = page.getHtml().regex(<span>\"item-link.{1,50}target\"</span>).all();		<span>//List&lt;String&gt; all = page.getHtml().regex(\"\\\\d+\").all();</span>		<span>//System.out.println(page.getHtml());</span>		<span>//System.out.println(all);</span>			<span>for</span>(String jd:all) {				String substring = jd.substring(<span>18</span>, jd.length()-<span>8</span>);				String url1 = <span>\"https:/\"</span>+substring;				<span>//System.out.println(url1);</span>				page.addTargetRequest(url1);			}			count++;		}				<span>if</span> (count==<span>2</span>) {			List&lt;String&gt; bookName = page.getHtml().regex(<span>\"js-item-name.{1,50}&lt;/span&gt;\"</span>).all();			List&lt;String&gt; bookPrice = page.getHtml().regex(<span>\"js-item-price.{1,50}&lt;/span&gt;\"</span>).all();			List&lt;String&gt; rBookName=<span>new</span> ArrayList&lt;String&gt;();			List&lt;Double&gt; rBookPrice =<span>new</span> ArrayList&lt;Double&gt;();			<span>//System.out.println(\"111\"+bookName);</span>			<span>//System.out.println(\"222\"+bookPrice);</span>						<span>for</span>(String string:bookName) {				<span>int</span> indexOf = string.indexOf(<span>\"&lt;span&gt;\"</span>);				String sub = string.substring(indexOf+<span>6</span>,string.length()-<span>8</span>);				<span>//System.out.println(sub);</span>				rBookName.add(sub);			}			<span>for</span>(String string:bookPrice) {				<span>int</span> indexOf = string.indexOf(<span>\"sale-price\"</span>);				<span>int</span> indexOf2 = string.indexOf(<span>\"&lt;/span&gt;\"</span>);				String substring = string.substring(indexOf+<span>14</span>,indexOf2);				<span>//System.out.println(substring);</span>				<span>double</span> parseDouble = Double.parseDouble(substring);				<span>//System.out.println(\"hhaha\"+parseDouble);</span>				rBookPrice.add(parseDouble);							}			JdModel jdModel = <span>null</span>;			<span>for</span>(<span>int</span> i=<span>0</span>;i&lt;=bookName.size()-<span>1</span>;i++) {				jdModel = <span>new</span> JdModel();				jdModel.setBookName(rBookName.get(i));				<span>//System.out.println(jdModel.getBookName());</span>				jdModel.setBookPrice(rBookPrice.get(i));				<span>//System.out.println(jdModel.getBookPrice());</span>				jd.add(jdModel);							}		}		<span>/*for(JdModel one:jd) {			System.out.println(one.getBookName());			System.out.println(one.getBookPrice());		}*/</span>	}		<span><span>public</span> <span>static</span> List&lt;JdModel&gt; <span>URLParser</span><span>(String URL)</span></span>{<span>//		url = URL;</span>		Spider create = Spider.create(<span>new</span> URLFerter());		create.addUrl(URL);		create.thread(<span>1</span>);		create.run();		<span>//System.out.println(jd.size());</span>		<span>/*for(int i=0;i&lt;=jd.size()-1;i++) {			System.out.println(jd.get(i).getBookName());			System.out.println(jd.get(i).getBookPrice());		}*/</span>		<span>return</span> jd;			}}</code></pre><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" width=\"15\" height=\"15\"></span></div><h3>数据库配置如下：</h3><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/20190805232856467.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQ2NjU3NQ==,size_16,color_FFFFFF,t_70\" width=\"1200\" height=\"840\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p></blockquote><h3>&nbsp; 自此，爬取书店书籍信息成功。</h3><p><br></p><p><br></p><h3>Tip：1、文件名称如JDongMedel.java虽然是表示京东含义，但是实践JAVA爬虫过程中发现京东貌似设置了反爬机制，导致爬取实属不易，出此下策爬取新华书店书籍名。</h3><h3>2、URLFerter为爬取核心代码，其中的字符筛选可以使用三种方式&nbsp; 1）regex方法 （推荐） &nbsp; 2）xpath方法 （推荐） &nbsp; 3）Jsoup方法</h3><h3>3、爬虫代码的执行实际上是多次执行proceed方法，每request一次页面就会执行一次，所以使用静态变量的count可以有效的划分执行逻辑，减少不必要的执行。</h3><h3>4、如上为很简单类型的爬虫，网站并没有反爬机制。一般网站通过简单的数据对比分析可以爬取到自己想要的信息，想要爬取更多的网站学习更深的内容。</h3><h3>5、反爬机制：</h3><ul><li>reboot.txt</li><li>User-Agent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href=\"https://blog.csdn.net/Lujuntong/article/details/81952519\">https://blog.csdn.net/Lujuntong/article/details/81952519</a></li><li>ip限制-可以代理ip</li><li>验证码</li><li>ajax动态加载页面</li><li>cookie限制</li></ul>', '2019-09-05 22:15:22', '2019-11-26 22:15:22', 'Java', 0, 10);
INSERT INTO `article` VALUES (23, 'XPath基本使用', '表达式 	描述 nodename	选取此节点的所有子节点。 /	从根节点选取。 //	从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。 .	选取当前节点。 ..	选取当前节点的父节点。 @	选取属性。   路径表达式	结果 bookstore...', '<table><tbody><tr><th>表达式<br></th><th>描述</th></tr><tr><td>nodename</td><td>选取此节点的所有子节点。</td></tr><tr><td>/</td><td>从根节点选取。</td></tr><tr><td>//</td><td>从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。<br></td></tr><tr><td>.</td><td>选取当前节点。</td></tr><tr><td>..</td><td>选取当前节点的父节点。</td></tr><tr><td>@</td><td>选取属性。</td></tr></tbody></table><p><br></p><table><tbody><tr><th>路径表达式</th><th>结果</th></tr><tr><td>bookstore</td><td>选取 bookstore 元素的所有子节点。</td></tr><tr><td>/bookstore</td><td><p>选取根元素 bookstore。</p><p>注释：假如路径起始于正斜杠( / )，则此路径始终代表到某元素的绝对路径！</p></td></tr><tr><td>bookstore/book</td><td>选取属于 bookstore 的子元素的所有 book 元素。</td></tr><tr><td>//book</td><td>选取所有 book 子元素，而不管它们在文档中的位置。</td></tr><tr><td>bookstore//book</td><td>选择属于 bookstore 元素的后代的所有 book 元素，而不管它们位于 bookstore 之下的什么位置。</td></tr><tr><td>//@lang</td><td>选取名为 lang 的所有属性。</td></tr></tbody></table><p><br></p><table><tbody><tr><th>路径表达式</th><th>结果</th></tr><tr><td>/bookstore/book[1]</td><td>选取属于 bookstore 子元素的第一个 book 元素。</td></tr><tr><td>/bookstore/book[last()]</td><td>选取属于 bookstore 子元素的最后一个 book 元素。</td></tr><tr><td>/bookstore/book[last()-1]</td><td>选取属于 bookstore 子元素的倒数第二个 book 元素。</td></tr><tr><td>/bookstore/book[position()&lt;3]</td><td>选取最前面的两个属于 bookstore 元素的子元素的 book 元素。</td></tr><tr><td>//title[@lang]</td><td>选取所有拥有名为 lang 的属性的 title 元素。</td></tr><tr><td>//title[@lang=\'eng\']</td><td>选取所有 title 元素，且这些元素拥有值为 eng 的 lang 属性。</td></tr><tr><td>/bookstore/book[price&gt;35.00]</td><td>选取 bookstore 元素的所有 book 元素，且其中的 price 元素的值须大于 35.00。</td></tr><tr><td>/bookstore/book[price&gt;35.00]/title</td><td>选取 bookstore 元素中的 book 元素的所有 title 元素，且其中的 price 元素的值须大于 35.00。</td></tr></tbody></table><p><br></p><table><tbody><tr><th>通配符</th><th>描述</th></tr><tr><td>*</td><td>匹配任何元素节点。</td></tr><tr><td>@*</td><td>匹配任何属性节点。</td></tr><tr><td>node()</td><td>匹配任何类型的节点。</td></tr></tbody></table>', '2019-07-11 22:18:21', '2019-11-26 22:18:21', '前端', 0, 11);
INSERT INTO `article` VALUES (24, '函数式编程详解', '当我们说起函数式编程来说，我们会看到如下函数式编程的长相：      函数式编程的三大特性：         immutable data 不可变数据：像Clojure一样，默认上变量是不可变的，如果你要改变变量，你需要把变量copy出去修改。这样一来...', '<p>当我们说起函数式编程来说，我们会看到如下函数式编程的长相：<br></p><ul><li>函数式编程的三大特性：<ul><li><strong>immutable data 不可变数据</strong>：像Clojure一样，默认上变量是不可变的，如果你要改变变量，你需要把变量copy出去修改。这样一来，可以让你的程序少很多Bug。因为，程序中的状态不好维护，在并发的时候更不好维护。（你可以试想一下如果你的程序有个复杂的状态，当以后别人改你代码的时候，是很容易出bug的，在并行中这样的问题就更多了）<br></li><li><strong>first class functions</strong>：这个技术可以让你的函数就像变量一样来使用。也就是说，你的函数可以像变量一样被创建，修改，并当成变量一样传递，返回或是在函数中嵌套函数。这个有点像Javascript的Prototype（参看<a href=\"https://coolshell.cn/articles/6668.html\">Javascript的面向对象编程</a>）</li><li><strong>尾递归优化</strong>：我们知道递归的害处，那就是如果递归很深的话，stack受不了，并会导致性能大幅度下降。所以，我们使用尾递归优化技术——每次递归时都会重用stack，这样一来能够提升性能，当然，这需要语言或编译器的支持。Python就不支持。</li></ul></li></ul><ul><li>函数式编程的几个技术<ul><li><strong>map &amp; reduce</strong> ：这个技术不用多说了，函数式编程最常见的技术就是对一个集合做Map和Reduce操作。这比起过程式的语言来说，在代码上要更容易阅读。（传统过程式的语言需要使用for/while循环，然后在各种变量中把数据倒过来倒过去的）这个很像C++中的STL中的foreach，find_if，count_if之流的函数的玩法。</li><li><strong>pipeline</strong>：这个技术的意思是，把函数实例成一个一个的action，然后，把一组action放到一个数组或是列表中，然后把数据传给这个action list，数据就像一个pipeline一样顺序地被各个函数所操作，最终得到我们想要的结果。</li><li><strong>recursing 递归</strong> ：递归最大的好处就简化代码，他可以把一个复杂的问题用很简单的代码描述出来。注意：递归的精髓是描述问题，而这正是函数式编程的精髓。</li><li><strong>currying</strong>：把一个函数的多个参数分解成多个函数， 然后把函数多层封装起来，每层函数都返回一个函数去接收下一个参数这样，可以简化函数的多个参数。在C++中，这个很像STL中的bind_1st或是bind2nd。</li><li><strong>higher order function 高阶函数</strong>：所谓高阶函数就是函数当参数，把传入的函数做一个封装，然后返回这个封装函数。现象上就是函数传进传出，就像面向对象对象满天飞一样。</li></ul></li></ul><p><br></p><ul><li>还有函数式的一些好处<ul><li><strong>parallelization 并行：</strong>所谓并行的意思就是在并行环境下，各个线程之间不需要同步或互斥。</li><li><strong>lazy evaluation 惰性求值</strong>：这个需要编译器的支持。表达式不在它被绑定到变量之后就立即求值，而是在该值被取用的时候求值，也就是说，语句如<em>x:=expression;</em>&nbsp;(把一个表达式的结果赋值给一个变量)明显的调用这个表达式被计算并把结果放置到&nbsp;<em>x</em>&nbsp;中，但是先不管实际在&nbsp;<em>x</em>&nbsp;中的是什么，直到通过后面的表达式中到&nbsp;<em>x</em>&nbsp;的引用而有了对它的值的需求的时候，而后面表达式自身的求值也可以被延迟，最终为了生成让外界看到的某个符号而计算这个快速增长的依赖树。</li><li><strong>determinism 确定性</strong>：所谓确定性的意思就是像数学那样&nbsp;f(x) = y ，这个函数无论在什么场景下，都会得到同样的结果，这个我们称之为函数的确定性。而不是像程序中的很多函数那样，同一个参数，却会在不同的场景下计算出不同的结果。所谓不同的场景的意思就是我们的函数会根据一些运行中的状态信息的不同而发生变化。</li></ul></li></ul><p>上面的那些东西太抽象了，还是让我们来循序渐近地看一些例子吧。</p><p>我们先用一个最简单的例子来说明一下什么是函数式编程。</p><p>先看一个非函数式的例子：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p></td><td><p><code>int</code> <code>cnt;</code></p><p><code>void</code> <code>increment(){</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>cnt++;</code></p><p><code>}</code></p></td></tr></tbody></table><p>那么，函数式的应该怎么写呢？</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p></td><td><p><code>int</code> <code>increment(</code><code>int</code> <code>cnt){</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>cnt+1;</code></p><p><code>}</code></p></td></tr></tbody></table><p>你可能会觉得这个例子太普通了。是的，这个例子就是函数式编程的准则：<strong>不依赖于外部的数据，而且也不改变外部数据的值，而是返回一个新的值给你</strong>。</p><p>我们再来看一个简单例子：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p></td><td><p><code>def</code> <code>inc(x):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>def</code> <code>incx(y):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>x</code><code>+</code><code>y</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>incx</code></p><p><br></p><p><code>inc2 </code><code>=</code> <code>inc(</code><code>2</code><code>)</code></p><p><code>inc5 </code><code>=</code> <code>inc(</code><code>5</code><code>)</code></p><p><br></p><p><code>print</code> <code>inc2(</code><code>5</code><code>) </code><code># 输出 7</code></p><p><code>print</code> <code>inc5(</code><code>5</code><code>) </code><code># 输出 10</code></p></td></tr></tbody></table><p>我们可以看到上面那个例子inc()函数返回了另一个函数incx()，于是我们可以用inc()函数来构造各种版本的inc函数，比如：inc2()和inc5()。这个技术其实就是上面所说的Currying技术。从这个技术上，你可能体会到函数式编程的理念：<strong>把函数当成变量来用，关注于描述问题而不是怎么实现</strong>，这样可以让代码更易读。</p><p>Map &amp; Reduce</p><p>在函数式编程中，我们不应该用循环迭代的方式，我们应该用更为高级的方法，如下所示的Python代码</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p></td><td><p><code>name_len </code><code>=</code> <code>map</code><code>(</code><code>len</code><code>, [</code><code>\"hao\"</code><code>, </code><code>\"chen\"</code><code>, </code><code>\"coolshell\"</code><code>])</code></p><p><code>print</code> <code>name_len</code></p><p><code># 输出 [3, 4, 9]</code></p></td></tr></tbody></table><p>你可以看到这样的代码很易读，因为，<strong>这样的代码是在描述要干什么，而不是怎么干</strong>。</p><p>我们再来看一个Python代码的例子：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p></td><td><p><code>def</code> <code>toUpper(item):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>item.upper()</code></p><p><br></p><p><code>upper_name </code><code>=</code> <code>map</code><code>(toUpper, [</code><code>\"hao\"</code><code>, </code><code>\"chen\"</code><code>, </code><code>\"coolshell\"</code><code>])</code></p><p><code>print</code> <code>upper_name</code></p><p><code># 输出 [\'HAO\', \'CHEN\', \'COOLSHELL\']</code></p></td></tr></tbody></table><p>顺便说一下，上面的例子个是不是和我们的STL的transform有些像？</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p></td><td><p><code>#include &lt;iostream&gt;</code></p><p><code>#include &lt;algorithm&gt;</code></p><p><code>#include &lt;string&gt;</code></p><p><code>using</code> <code>namespace</code> <code>std;</code></p><p><br></p><p><code>int</code> <code>main() {</code></p><p><code>&nbsp;&nbsp;</code><code>string s=</code><code>\"hello\"</code><code>;</code></p><p><code>&nbsp;&nbsp;</code><code>string out;</code></p><p><code>&nbsp;&nbsp;</code><code>transform(s.begin(), s.end(), back_inserter(out), ::</code><code>toupper</code><code>);</code></p><p><code>&nbsp;&nbsp;</code><code>cout &lt;&lt; out &lt;&lt; endl;</code></p><p><code>&nbsp;&nbsp;</code><code>// 输出：HELLO</code></p><p><code>}</code></p></td></tr></tbody></table><p>在上面Python的那个例子中我们可以看到，我们写义了一个函数toUpper，这个函数没有改变传进来的值，只是把传进来的值做个简单的操作，然后返回。然后，我们把其用在map函数中，就可以很清楚地描述出我们想要干什么。而不会去理解一个在循环中的怎么实现的代码，最终在读了很多循环的逻辑后才发现原来是这个或那个意思。 下面，我们看看描述实现方法的过程式编程是怎么玩的（看上去是不是不如函数式的清晰？）：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p></td><td><p><code>upname </code><code>=</code><code>[</code><code>\'HAO\'</code><code>, </code><code>\'CHEN\'</code><code>, </code><code>\'COOLSHELL\'</code><code>]</code></p><p><code>lowname </code><code>=</code><code>[] </code></p><p><code>for</code> <code>i </code><code>in</code> <code>range</code><code>(</code><code>len</code><code>(upname)):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>lowname.append( upname[i].lower() )</code></p></td></tr></tbody></table><p>对于map我们别忘了lambda表达式：你可以简单地理解为这是一个inline的匿名函数。下面的lambda表达式相当于：def func(x): return x*x</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p></td><td><p><code>squares </code><code>=</code> <code>map</code><code>(</code><code>lambda</code> <code>x: x </code><code>*</code> <code>x, </code><code>range</code><code>(</code><code>9</code><code>))</code></p><p><code>print</code> <code>squares</code></p><p><code># 输出 [0, 1, 4, 9, 16, 25, 36, 49, 64]</code></p></td></tr></tbody></table><p>我们再来看看reduce怎么玩？（下面的lambda表达式中有两个参数，也就是说每次从列表中取两个值，计算结果后把这个值再放回去，下面的表达式相当于：((((1+2)+3)+4)+5) ）</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p></td><td><p><code>print</code> <code>reduce</code><code>(</code><code>lambda</code> <code>x, y: x</code><code>+</code><code>y, [</code><code>1</code><code>, </code><code>2</code><code>, </code><code>3</code><code>, </code><code>4</code><code>, </code><code>5</code><code>])</code></p><p><code># 输出 15</code></p></td></tr></tbody></table><p>Python中的除了map和reduce外，还有一些别的如filter, find, all, any的函数做辅助（其它函数式的语言也有），可以让你的代码更简洁，更易读。 我们再来看一个比较复杂的例子：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><caption>计算数组中正数的平均值</caption><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p></td><td><p><code>num </code><code>=</code><code>[</code><code>2</code><code>, </code><code>-</code><code>5</code><code>, </code><code>9</code><code>, </code><code>7</code><code>, </code><code>-</code><code>2</code><code>, </code><code>5</code><code>, </code><code>3</code><code>, </code><code>1</code><code>, </code><code>0</code><code>, </code><code>-</code><code>3</code><code>, </code><code>8</code><code>]</code></p><p><code>positive_num_cnt </code><code>=</code> <code>0</code></p><p><code>positive_num_sum </code><code>=</code> <code>0</code></p><p><code>for</code> <code>i </code><code>in</code> <code>range</code><code>(</code><code>len</code><code>(num)):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>num[i] &gt; </code><code>0</code><code>:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>positive_num_cnt </code><code>+</code><code>=</code> <code>1</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>positive_num_sum </code><code>+</code><code>=</code> <code>num[i]</code></p><p><br></p><p><code>if</code> <code>positive_num_cnt &gt; </code><code>0</code><code>:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>average </code><code>=</code> <code>positive_num_sum </code><code>/</code> <code>positive_num_cnt</code></p><p><br></p><p><code>print</code> <code>average</code></p><p><code># 输出 5</code></p></td></tr></tbody></table><p>如果用函数式编程，这个例子可以写成这样：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p></td><td><p><code>positive_num </code><code>=</code> <code>filter</code><code>(</code><code>lambda</code> <code>x: x&gt;</code><code>0</code><code>, num)</code></p><p><code>average </code><code>=</code> <code>reduce</code><code>(</code><code>lambda</code> <code>x,y: x</code><code>+</code><code>y, positive_num) </code><code>/</code> <code>len</code><code>( positive_num )</code></p></td></tr></tbody></table><p>C++11玩的法：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p></td><td><p><code>#include &lt;iostream&gt;</code></p><p><code>#include &lt;algorithm&gt;</code></p><p><code>#include &lt;numeric&gt;</code></p><p><code>#include &lt;string&gt;</code></p><p><code>#include &lt;vector&gt;</code></p><p><code>using</code> <code>namespace</code> <code>std;</code></p><p><br></p><p><code>vector num {2, -5, 9, 7, -2, 5, 3, 1, 0, -3, 8};</code></p><p><code>vector p_num;</code></p><p><code>copy_if(num.begin(), num.end(), back_inserter(p_num), [](</code><code>int</code> <code>i){ </code><code>return</code> <code>(i&gt;0);} );</code></p><p><code>int</code> <code>average = accumulate(p_num.begin(), p_num.end(), 0) / p_num.size();</code></p><p><code>cout &lt;&lt; </code><code>\"averge: \"</code> <code>&lt;&lt; average &lt;&lt; endl;</code></p></td></tr></tbody></table><p>我们可以看到，函数式编程有如下好处：</p><p>1）代码更简单了。<br>2）数据集，操作，返回值都放到了一起。<br>3）你在读代码的时候，没有了循环体，于是就可以少了些临时变量，以及变量倒来倒去逻辑。<br>4）你的代码变成了在描述你要干什么，而不是怎么去干。</p><p>最后，我们来看一下Map/Reduce这样的函数是怎么来实现的（下面是Javascript代码）</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><caption>map函数</caption><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><p><code>var</code> <code>map = </code><code>function</code> <code>(mappingFunction, list) {</code></p><p><code>&nbsp;&nbsp;</code><code>var</code> <code>result = [];</code></p><p><code>&nbsp;&nbsp;</code><code>forEach(list, </code><code>function</code> <code>(item) {</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>result.push(mappingFunction(item));</code></p><p><code>&nbsp;&nbsp;</code><code>});</code></p><p><code>&nbsp;&nbsp;</code><code>return</code> <code>result;</code></p><p><code>};</code></p></td></tr></tbody></table><p>下面是reduce函数的javascript实现（谢谢 <a href=\"http://weibo.com/u/1772898707\">@下雨在家</a> 修正的我原来的简单版本）</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><caption>reduce函数</caption><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p></td><td><p><code>function</code> <code>reduce(actionFunction, list, initial){</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>var</code> <code>accumulate;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>var</code> <code>temp;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code><code>(initial){</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>accumulate = initial;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>else</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>accumulate = list.shfit();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>temp = list.shift();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>while</code><code>(temp){</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>accumulate = actionFunction(accumulate,temp);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>temp = list.shift();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>accumulate;</code></p><p><code>};</code></p></td></tr></tbody></table><p>Declarative Programming vs Imperative Programming</p><p>前面提到过多次的函数式编程关注的是：describe what to do, rather than how to do it. 于是，我们把以前的过程式的编程范式叫做 <a href=\"http://en.wikipedia.org/wiki/Imperative_programming\">Imperative Programming</a> – 指令式编程，而把函数式的这种范式叫做 <a href=\"http://en.wikipedia.org/wiki/Declarative_programming\">Declarative Programming</a> – 声明式编程。</p><p>下面我们看一下相关的示例（本示例来自<a href=\"http://maryrosecook.com/post/a-practical-introduction-to-functional-programming\">这篇文章</a> ）。</p><p>比如，我们有3辆车比赛，简单起见，我们分别给这3辆车有70%的概率可以往前走一步，一共有5次机会，我们打出每一次这3辆车的前行状态。</p><p>对于Imperative Programming来说，代码如下（Python）：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p></td><td><p><code>from</code> <code>random </code><code>import</code> <code>random</code></p><p><br></p><p><code>time </code><code>=</code> <code>5</code></p><p><code>car_positions </code><code>=</code> <code>[</code><code>1</code><code>, </code><code>1</code><code>, </code><code>1</code><code>]</code></p><p><br></p><p><code>while</code> <code>time:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code># decrease time</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>time </code><code>-</code><code>=</code> <code>1</code></p><p><br></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>\'\'</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code> <code>i </code><code>in</code> <code>range</code><code>(</code><code>len</code><code>(car_positions)):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code># move car</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>random() &gt; </code><code>0.3</code><code>:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>car_positions[i] </code><code>+</code><code>=</code> <code>1</code></p><p><br></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code># draw car</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>\'-\'</code> <code>*</code> <code>car_positions[i]</code></p></td></tr></tbody></table><p>我们可以把这个两重循环变成一些函数模块，这样有利于我们更容易地阅读代码：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p></td><td><p><code>from</code> <code>random </code><code>import</code> <code>random</code></p><p><br></p><p><code>def</code> <code>move_cars():</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code> <code>i, _ </code><code>in</code> <code>enumerate</code><code>(car_positions):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>random() &gt; </code><code>0.3</code><code>:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>car_positions[i] </code><code>+</code><code>=</code> <code>1</code></p><p><br></p><p><code>def</code> <code>draw_car(car_position):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>\'-\'</code> <code>*</code> <code>car_position</code></p><p><br></p><p><code>def</code> <code>run_step_of_race():</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>global</code> <code>time</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>time </code><code>-</code><code>=</code> <code>1</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>move_cars()</code></p><p><br></p><p><code>def</code> <code>draw():</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>\'\'</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code> <code>car_position </code><code>in</code> <code>car_positions:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>draw_car(car_position)</code></p><p><br></p><p><code>time </code><code>=</code> <code>5</code></p><p><code>car_positions </code><code>=</code> <code>[</code><code>1</code><code>, </code><code>1</code><code>, </code><code>1</code><code>]</code></p><p><br></p><p><code>while</code> <code>time:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>run_step_of_race()</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>draw()</code></p></td></tr></tbody></table><p>上面的代码，我们可以从主循环开始，我们可以很清楚地看到程序的主干，因为我们把程序的逻辑分成了几个函数，这样一来，我们的代码逻辑也会变得几个小碎片，于是我们读代码时要考虑的上下文就少了很多，阅读代码也会更容易。不像第一个示例，如果没有注释和说明，你还是需要花些时间理解一下。<strong>而把代码逻辑封装成了函数后，我们就相当于给每个相对独立的程序逻辑取了个名字，于是代码成了自解释的</strong>。</p><p>但是，你会发现，封装成函数后，这些函数都会依赖于共享的变量来同步其状态。于是，我们在读代码的过程时，每当我们进入到函数里，一量读到访问了一个外部的变量，我们马上要去查看这个变量的上下文，然后还要在大脑里推演这个变量的状态， 我们才知道程序的真正逻辑。也就是说，<strong>这些函数间必需知道其它函数是怎么修改它们之间的共享变量的，所以，这些函数是有状态的</strong>。</p><p>我们知道，有状态并不是一件很好的事情，无论是对代码重用，还是对代码的并行来说，都是有副作用的。因此，我们要想个方法把这些状态搞掉，于是出现了我们的 Functional Programming 的编程范式。下面，我们来看看函数式的方式应该怎么写？</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p></td><td><p><code>from</code> <code>random </code><code>import</code> <code>random</code></p><p><br></p><p><code>def</code> <code>move_cars(car_positions):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>map</code><code>(</code><code>lambda</code> <code>x: x </code><code>+</code> <code>1</code> <code>if</code> <code>random() &gt; </code><code>0.3</code> <code>else</code> <code>x,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>car_positions)</code></p><p><br></p><p><code>def</code> <code>output_car(car_position):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>\'-\'</code> <code>*</code> <code>car_position</code></p><p><br></p><p><code>def</code> <code>run_step_of_race(state):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>{</code><code>\'time\'</code><code>: state[</code><code>\'time\'</code><code>] </code><code>-</code> <code>1</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>\'car_positions\'</code><code>: move_cars(state[</code><code>\'car_positions\'</code><code>])}</code></p><p><br></p><p><code>def</code> <code>draw(state):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>\'\'</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>\'\\n\'</code><code>.join(</code><code>map</code><code>(output_car, state[</code><code>\'car_positions\'</code><code>]))</code></p><p><br></p><p><code>def</code> <code>race(state):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>draw(state)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>state[</code><code>\'time\'</code><code>]:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>race(run_step_of_race(state))</code></p><p><br></p><p><code>race({</code><code>\'time\'</code><code>: </code><code>5</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>\'car_positions\'</code><code>: [</code><code>1</code><code>, </code><code>1</code><code>, </code><code>1</code><code>]})</code></p></td></tr></tbody></table><p>上面的代码依然把程序的逻辑分成了函数，不过这些函数都是functional的。因为它们有三个症状：</p><p>1）它们之间没有共享的变量。<br>2）函数间通过参数和返回值来传递数据。<br>3）在函数里没有临时变量。</p><p>我们还可以看到，for循环被递归取代了（见race函数）—— 递归是函数式编程中带用到的技术，正如前面所说的，递归的本质就是描述问题是什么。</p><p><span tabindex=\"-1\" role=\"region\" aria-label=\" 图像 小部件\" contenteditable=\"false\"><img alt=\"\" src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jb29sc2hlbGwuY24vd3AtY29udGVudC91cGxvYWRzLzIwMTMvMTIvZm9ycmVzdC1ndW1wLmpwZw\" width=\"490\" height=\"382\"><span><img src=\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==\" title=\"点击并拖拽以移动\" role=\"presentation\" draggable=\"true\" width=\"15\" height=\"15\"></span><span title=\"点击并拖拽以改变尺寸\"></span></span></p><p>Pipeline</p><p>pipeline 管道借鉴于Unix Shell的管道操作——把若干个命令串起来，前面命令的输出成为后面命令的输入，如此完成一个流式计算。（注：管道绝对是一个伟大的发明，他的设哲学就是KISS – 让每个功能就做一件事，并把这件事做到极致，软件或程序的拼装会变得更为简单和直观。这个设计理念影响非常深远，包括今天的Web Service，云计算，以及大数据的流式计算等等）</p><p>比如，我们如下的shell命令：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p></td><td><p><code>ps</code> <code>auwwx | </code><code>awk</code> <code>\'{print $2}\'</code> <code>| </code><code>sort</code> <code>-n | </code><code>xargs</code> <code>echo</code></p></td></tr></tbody></table><p>如果我们抽象成函数式的语言，就像下面这样：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p></td><td><p><code>xargs(&nbsp; echo, sort(n, awk(</code><code>\'print $2\'</code><code>, ps(auwwx)))&nbsp; )</code></p></td></tr></tbody></table><p>也可以类似下面这个样子：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p></td><td><p><code>pids </code><code>=</code> <code>for_each(result, [ps_auwwx, awk_p2, sort_n, xargs_echo])</code></p></td></tr></tbody></table><p>好了，让我们来看看函数式编程的Pipeline怎么玩？</p><p>我们先来看一个如下的程序，这个程序的process()有三个步骤：</p><p>1）找出偶数。<br>2）乘以3<br>3）转成字符串返回</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p></td><td><p><code>def</code> <code>process(num):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code># filter out non-evens</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>num </code><code>%</code> <code>2</code> <code>!</code><code>=</code> <code>0</code><code>:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>num </code><code>=</code> <code>num </code><code>*</code> <code>3</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>num </code><code>=</code> <code>\'The Number: %s\'</code> <code>%</code> <code>num</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>num</code></p><p><br></p><p><code>nums </code><code>=</code> <code>[</code><code>1</code><code>, </code><code>2</code><code>, </code><code>3</code><code>, </code><code>4</code><code>, </code><code>5</code><code>, </code><code>6</code><code>, </code><code>7</code><code>, </code><code>8</code><code>, </code><code>9</code><code>, </code><code>10</code><code>]</code></p><p><br></p><p><code>for</code> <code>num </code><code>in</code> <code>nums:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>process(num)</code></p><p><br></p><p><code># 输出：</code></p><p><code># None</code></p><p><code># The Number: 6</code></p><p><code># None</code></p><p><code># The Number: 12</code></p><p><code># None</code></p><p><code># The Number: 18</code></p><p><code># None</code></p><p><code># The Number: 24</code></p><p><code># None</code></p><p><code># The Number: 30</code></p></td></tr></tbody></table><p>我们可以看到，输出的并不够完美，另外，代码阅读上如果没有注释，你也会比较晕。下面，我们来看看函数式的pipeline（第一种方式）应该怎么写？</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p></td><td><p><code>def</code> <code>even_filter(nums):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code> <code>num </code><code>in</code> <code>nums:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>num </code><code>%</code> <code>2</code> <code>=</code><code>=</code> <code>0</code><code>:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>yield</code> <code>num</code></p><p><code>def</code> <code>multiply_by_three(nums):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code> <code>num </code><code>in</code> <code>nums:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>yield</code> <code>num </code><code>*</code> <code>3</code></p><p><code>def</code> <code>convert_to_string(nums):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code> <code>num </code><code>in</code> <code>nums:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>yield</code> <code>\'The Number: %s\'</code> <code>%</code> <code>num</code></p><p><br></p><p><code>nums </code><code>=</code> <code>[</code><code>1</code><code>, </code><code>2</code><code>, </code><code>3</code><code>, </code><code>4</code><code>, </code><code>5</code><code>, </code><code>6</code><code>, </code><code>7</code><code>, </code><code>8</code><code>, </code><code>9</code><code>, </code><code>10</code><code>]</code></p><p><code>pipeline </code><code>=</code> <code>convert_to_string(multiply_by_three(even_filter(nums)))</code></p><p><code>for</code> <code>num </code><code>in</code> <code>pipeline:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>num</code></p><p><code># 输出：</code></p><p><code># The Number: 6</code></p><p><code># The Number: 12</code></p><p><code># The Number: 18</code></p><p><code># The Number: 24</code></p><p><code># The Number: 30</code></p></td></tr></tbody></table><p>我们动用了Python的关键字 yield，这个关键字主要是返回一个Generator，yield 是一个类似 return 的关键字，只是这个函数返回的是个Generator-生成器。所谓生成器的意思是，yield返回的是一个可迭代的对象，并没有真正的执行函数。也就是说，只有其返回的迭代对象被真正迭代时，yield函数才会正真的运行，运行到yield语句时就会停住，然后等下一次的迭代。（这个是个比较诡异的关键字）这就是lazy evluation。</p><p>好了，根据前面的原则——“<strong>使用Map &amp; Reduce，不要使用循环</strong>”，那我们用比较纯朴的Map &amp; Reduce吧。</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p></td><td><p><code>def</code> <code>even_filter(nums):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>filter</code><code>(</code><code>lambda</code> <code>x: x</code><code>%</code><code>2</code><code>=</code><code>=</code><code>0</code><code>, nums)</code></p><p><br></p><p><code>def</code> <code>multiply_by_three(nums):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>map</code><code>(</code><code>lambda</code> <code>x: x</code><code>*</code><code>3</code><code>, nums)</code></p><p><br></p><p><code>def</code> <code>convert_to_string(nums):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>map</code><code>(</code><code>lambda</code> <code>x: </code><code>\'The Number: %s\'</code> <code>%</code> <code>x,&nbsp; nums)</code></p><p><br></p><p><code>nums </code><code>=</code> <code>[</code><code>1</code><code>, </code><code>2</code><code>, </code><code>3</code><code>, </code><code>4</code><code>, </code><code>5</code><code>, </code><code>6</code><code>, </code><code>7</code><code>, </code><code>8</code><code>, </code><code>9</code><code>, </code><code>10</code><code>]</code></p><p><code>pipeline </code><code>=</code> <code>convert_to_string(</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>multiply_by_three(</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>even_filter(nums)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>)</code></p><p><code>for</code> <code>num </code><code>in</code> <code>pipeline:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>num</code></p></td></tr></tbody></table><p>但是他们的代码需要嵌套使用函数，这个有点不爽，如果我们能像下面这个样子就好了（第二种方式）。</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p></td><td><p><code>pipeline_func(nums, [even_filter,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>multiply_by_three,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>convert_to_string])</code></p></td></tr></tbody></table><p>那么，pipeline_func 实现如下：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p></td><td><p><code>def</code> <code>pipeline_func(data, fns):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>reduce</code><code>(</code><code>lambda</code> <code>a, x: x(a),</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>fns,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>data)</code></p></td></tr></tbody></table><p>好了，在读过这么多的程序后，你可以回头看一下这篇文章的开头对函数式编程的描述，可能你就更有感觉了。</p><p>最后，<strong>我希望这篇浅显易懂的文章能让你感受到函数式编程的思想，就像OO编程，泛型编程，过程式编程一样，我们不用太纠结是不是我们的程序就是OO，就是functional的，我们重要的品味其中的味道</strong>。</p><p>参考</p><ul><li>Wikipedia: <a href=\"http://en.wikipedia.org/wiki/Functional_programming\">Functional Programming</a></li><li><a href=\"http://stackoverflow.com/questions/5226055/truly-understanding-the-difference-between-procedural-and-functional\">truly understanding the difference between procedural and functional</a></li><li><a href=\"http://maryrosecook.com/post/a-practical-introduction-to-functional-programming\">A practical introduction to functional programming</a></li><li><a href=\"http://stackoverflow.com/q/23277/211232\">What is the difference between procedural programming and functional programming?</a></li><li><a href=\"http://stackoverflow.com/q/3249863/211232\">Can someone give me examples of functional programming vs imperative/procedural programming?</a></li><li><a href=\"http://stackoverflow.com/q/552336/211232\">OOP vs Functional Programming vs Procedural</a></li><li>Python –&nbsp;<a href=\"http://docs.python.org/2/howto/functional.html#\">Functional Programming HOWTO</a></li></ul><p><strong>补充</strong>：评论中<a href=\"http://weibo.com/redraiment\">redraiment</a>的<a href=\"https://coolshell.cn/articles/10822.html#comment-1111518\">这个评论</a>大家也可以读一读。</p><p>感谢谢网友S142857 提供的shell风格的python pipeline：</p><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p></td><td><p><code>class</code> <code>Pipe(</code><code>object</code><code>):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>def</code> <code>__init__(</code><code>self</code><code>, func):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>self</code><code>.func </code><code>=</code> <code>func</code></p><p><br></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>def</code> <code>__ror__(</code><code>self</code><code>, other):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>def</code> <code>generator():</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code> <code>obj </code><code>in</code> <code>other:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>obj </code><code>is</code> <code>not</code> <code>None</code><code>:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>yield</code> <code>self</code><code>.func(obj)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>generator()</code></p><p><br></p><p><code>@Pipe</code></p><p><code>def</code> <code>even_filter(num):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>num </code><code>if</code> <code>num </code><code>%</code> <code>2</code> <code>=</code><code>=</code> <code>0</code> <code>else</code> <code>None</code></p><p><br></p><p><code>@Pipe</code></p><p><code>def</code> <code>multiply_by_three(num):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>num</code><code>*</code><code>3</code></p><p><br></p><p><code>@Pipe</code></p><p><code>def</code> <code>convert_to_string(num):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>\'The Number: %s\'</code> <code>%</code> <code>num</code></p><p><br></p><p><code>@Pipe</code></p><p><code>def</code> <code>echo(item):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>print</code> <code>item</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>item</code></p><p><br></p><p><code>def</code> <code>force(sqs):</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code> <code>item </code><code>in</code> <code>sqs: </code><code>pass</code></p><p><br></p><p><code>nums </code><code>=</code> <code>[</code><code>1</code><code>, </code><code>2</code><code>, </code><code>3</code><code>, </code><code>4</code><code>, </code><code>5</code><code>, </code><code>6</code><code>, </code><code>7</code><code>, </code><code>8</code><code>, </code><code>9</code><code>, </code><code>10</code><code>]</code></p><p><br></p><p><code>force(nums | even_filter | multiply_by_three | convert_to_string | echo)</code></p></td></tr></tbody></table><p>（全文完）<strong> </strong></p><p><br></p><h3>完全转载<a href=\"https://blog.csdn.net/archimelan/article/details/81940858\">这位朋友，写的很棒！！！</a></h3>', '2019-11-26 22:20:17', '2019-11-26 22:20:17', 'Others', 0, 6);
INSERT INTO `article` VALUES (25, '详解Tomcat 配置文件server.xml', '前言  Tomcat隶属于Apache基金会，是开源的轻量级Web应用服务器，使用非常广泛。server.xml是Tomcat中最重要的配置文件，server.xml的每一个元素都对应了Tomcat中的一个组件；通过对xml文件中元素的配置，可以实现对T...', '<h2>前言</h2><p>Tomcat隶属于Apache基金会，是开源的轻量级Web应用服务器，使用非常广泛。server.xml是Tomcat中最重要的配置文件，<strong>server.xml</strong><strong>的每一个元素都对应了Tomcat</strong><strong>中的一个组件</strong>；通过对xml文件中元素的配置，可以实现对Tomcat中各个组件的控制。因此，学习server.xml文件的配置，对于了解和使用Tomcat至关重要。</p><p>本文将通过实例，介绍server.xml中各个组件的配置，并详细说明Tomcat各个核心组件的作用以及各个组件之间的相互关系。</p><p>说明：由于server.xml文件中元素与Tomcat中组件的对应关系，后文中为了描述方便，“元素”和“组件”的使用不严格区分。</p><p><strong>如果觉得文章对你有帮助，欢迎点赞或转载。文章有疏漏之处，欢迎批评指正。</strong></p><h2>目录</h2><div><p><a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title1\">一、一个server.xml配置实例</a></p><p><a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title2\">二、server.xml文档的元素分类和整体结构</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title2-1\">1、整体结构</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title2-2\">2、元素分类</a></p><p><a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title3\">三、核心组件</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title3-1\">1、Server</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title3-2\">2、Service</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title3-3\">3、Connector</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title3-4\">4、Engine</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title3-5\">5、Host</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title3-6\">6、Context</a></p><p><a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title4\">四、核心组件的关联</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title4-1\">1、整体关系</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title4-2\">2、如何确定请求由谁处理？</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title4-3\">3、如何配置多个服务</a></p><p><a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title5\">五、其他组件</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title5-1\">1、Listener</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title5-2\">2、GlobalNamingResources与Realm</a></p><p>　　<a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title5-3\">3、Valve</a></p><p><a href=\"https://www.cnblogs.com/kismetv/p/7228274.html#title6\">六、参考文献</a></p></div><h1><a name=\"title1\"></a>一、一个server.xml配置实例</h1><p>server.xml位于$TOMCAT_HOME/conf目录下；下面是一个server.xml实例。后文中将结合该实例讲解server.xml中，各个元素的含义和作用；在阅读后续章节过程中，可以对照该xml文档便于理解。</p><div><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div><pre><span> 1</span> <span>&lt;</span><span>Server </span><span>port</span><span>=\"8005\"</span><span> shutdown</span><span>=\"SHUTDOWN\"</span><span>&gt;</span><span> 2</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.startup.VersionLoggerListener\"</span> <span>/&gt;</span><span> 3</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.AprLifecycleListener\"</span><span> SSLEngine</span><span>=\"on\"</span> <span>/&gt;</span><span> 4</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.JasperListener\"</span> <span>/&gt;</span><span> 5</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.JreMemoryLeakPreventionListener\"</span> <span>/&gt;</span><span> 6</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\"</span> <span>/&gt;</span><span> 7</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.ThreadLocalLeakPreventionListener\"</span> <span>/&gt;</span><span> 8</span> <span> 9</span>   <span>&lt;</span><span>GlobalNamingResources</span><span>&gt;</span><span>10</span>     <span>&lt;</span><span>Resource </span><span>name</span><span>=\"UserDatabase\"</span><span> auth</span><span>=\"Container\"</span><span>11</span> <span>              type</span><span>=\"org.apache.catalina.UserDatabase\"</span><span>12</span> <span>              description</span><span>=\"User database that can be updated and saved\"</span><span>13</span> <span>              factory</span><span>=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"</span><span>14</span> <span>              pathname</span><span>=\"conf/tomcat-users.xml\"</span> <span>/&gt;</span><span>15</span>   <span>&lt;/</span><span>GlobalNamingResources</span><span>&gt;</span><span>16</span>  <span>17</span>   <span>&lt;</span><span>Service </span><span>name</span><span>=\"Catalina\"</span><span>&gt;</span><span>18</span>     <span>&lt;</span><span>Connector </span><span>port</span><span>=\"8080\"</span><span> protocol</span><span>=\"HTTP/1.1\"</span><span>19</span> <span>               connectionTimeout</span><span>=\"20000\"</span><span>20</span> <span>               redirectPort</span><span>=\"8443\"</span> <span>/&gt;</span><span>21</span>     <span>&lt;</span><span>Connector </span><span>port</span><span>=\"8009\"</span><span> protocol</span><span>=\"AJP/1.3\"</span><span> redirectPort</span><span>=\"8443\"</span> <span>/&gt;</span><span>22</span>     <span>&lt;</span><span>Engine </span><span>name</span><span>=\"Catalina\"</span><span> defaultHost</span><span>=\"localhost\"</span><span>&gt;</span><span>23</span>       <span>&lt;</span><span>Realm </span><span>className</span><span>=\"org.apache.catalina.realm.LockOutRealm\"</span><span>&gt;</span><span>24</span>         <span>&lt;</span><span>Realm </span><span>className</span><span>=\"org.apache.catalina.realm.UserDatabaseRealm\"</span><span>25</span> <span>               resourceName</span><span>=\"UserDatabase\"</span><span>/&gt;</span><span>26</span>       <span>&lt;/</span><span>Realm</span><span>&gt;</span><span>27</span>  <span>28</span>       <span>&lt;</span><span>Host </span><span>name</span><span>=\"localhost\"</span><span>  appBase</span><span>=\"webapps\"</span><span>29</span> <span>            unpackWARs</span><span>=\"true\"</span><span> autoDeploy</span><span>=\"true\"</span><span>&gt;</span><span>30</span>         <span>&lt;</span><span>Valve </span><span>className</span><span>=\"org.apache.catalina.valves.AccessLogValve\"</span><span> directory</span><span>=\"logs\"</span><span>31</span> <span>               prefix</span><span>=\"localhost_access_log.\"</span><span> suffix</span><span>=\".txt\"</span><span>32</span> <span>               pattern</span><span>=\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\"</span> <span>/&gt;</span><span>33</span>       <span>&lt;/</span><span>Host</span><span>&gt;</span><span>34</span>     <span>&lt;/</span><span>Engine</span><span>&gt;</span><span>35</span>   <span>&lt;/</span><span>Service</span><span>&gt;</span><span>36</span> <span>&lt;/</span><span>Server</span><span>&gt;</span></pre><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div></div><h1><a name=\"title2\"></a>二、server.xml文档的元素分类和整体结构</h1><h2><a name=\"title2-1\"></a>1、整体结构</h2><p>server.xml的整体结构如下：</p><div><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div><pre><span> 1</span> <span>&lt;</span><span>Server</span><span>&gt;</span><span> 2</span>     <span>&lt;</span><span>Service</span><span>&gt;</span><span> 3</span>         <span>&lt;</span><span>Connector </span><span>/&gt;</span><span> 4</span>         <span>&lt;</span><span>Connector </span><span>/&gt;</span><span> 5</span>         <span>&lt;</span><span>Engine</span><span>&gt;</span><span> 6</span>             <span>&lt;</span><span>Host</span><span>&gt;</span><span> 7</span>                 <span>&lt;</span><span>Context </span><span>/&gt;&lt;!-- </span><span>现在常常使用自动部署，不推荐配置Context元素，Context小节有详细说明 --&gt;</span><span> 8</span>             <span>&lt;/</span><span>Host</span><span>&gt;</span><span> 9</span>         <span>&lt;/</span><span>Engine</span><span>&gt;</span><span>10</span>     <span>&lt;/</span><span>Service</span><span>&gt;</span><span>11</span> <span>&lt;/</span><span>Server</span><span>&gt;</span></pre><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div></div><p><span>该结构中只给出了Tomcat的核心组件，除了核心组件外，Tomcat还有一些其他组件，下面介绍一下组件的分类。</span></p><h2><a name=\"title2-2\"></a>2、元素分类</h2><p>server.xml文件中的元素可以分为以下4类：</p><p>（1）顶层元素：&lt;Server&gt;和&lt;Service&gt;</p><p>&lt;Server&gt;元素是整个配置文件的根元素，&lt;Service&gt;元素则代表一个Engine元素以及一组与之相连的Connector元素。</p><p>（2）连接器：&lt;Connector&gt;</p><p>&lt;Connector&gt;代表了外部客户端发送请求到特定Service的接口；同时也是外部客户端从特定Service接收响应的接口。</p><p>（3）容器：&lt;Engine&gt;&lt;Host&gt;&lt;Context&gt;</p><p>容器的功能是处理Connector接收进来的请求，并产生相应的响应。Engine、Host和Context都是容器，但它们不是平行的关系，而是父子关系：Engine包含Host，Host包含Context。一个Engine组件可以处理Service中的所有请求，一个Host组件可以处理发向一个特定虚拟主机的所有请求，一个Context组件可以处理一个特定Web应用的所有请求。</p><p>（4）内嵌组件：可以内嵌到容器中的组件。实际上，<strong>Server</strong><strong>、Service</strong><strong>、Connector</strong><strong>、Engine</strong><strong>、Host</strong><strong>和Context</strong><strong>是最重要的最核心的Tomcat</strong><strong>组件</strong>，其他组件都可以归为内嵌组件。</p><p>下面将详细介绍Tomcat中各个核心组件的作用，以及相互之间的关系。</p><h1><a name=\"title3\"></a>三、核心组件</h1><p>本部分将分别介绍各个核心组件的作用、特点以及配置方式等。</p><h2><a name=\"title3-1\"></a>1、Server</h2><p>Server元素在最顶层，代表整个Tomcat容器，因此它必须是server.xml中唯一一个最外层的元素。<strong>一个</strong><strong>Server</strong><strong>元素中可以有一个或多个Service</strong><strong>元素。</strong></p><p>在第一部分的例子中，在最外层有一个&lt;Server&gt;元素，shutdown属性表示关闭Server的指令；port属性表示Server接收shutdown指令的端口号，设为-1可以禁掉该端口。</p><p>Server的主要任务，就是提供一个接口让客户端能够访问到这个Service集合，同时维护它所包含的所有的Service的声明周期，包括如何初始化、如何结束服务、如何找到客户端要访问的Service。</p><h2><a name=\"title3-2\"></a>2、Service</h2><p>Service的作用，是在Connector和Engine外面包了一层，把它们组装在一起，对外提供服务。<strong>一个</strong><strong>Service</strong><strong>可以包含多个Connector</strong><strong>，但是只能包含一个Engine</strong><strong>；</strong>其中Connector的作用是从客户端接收请求，Engine的作用是处理接收进来的请求。</p><p>在第一部分的例子中，Server中包含一个名称为“Catalina”的Service。实际上，Tomcat可以提供多个Service，不同的Service监听不同的端口，后文会有介绍。</p><h2><a name=\"title3-3\"></a>3、Connector</h2><p>Connector的主要功能，是接收连接请求，创建Request和Response对象用于和请求端交换数据；然后分配线程让Engine来处理这个请求，并把产生的Request和Response对象传给Engine。</p><p>通过配置Connector，可以控制请求Service的协议及端口号。在第一部分的例子中，Service包含两个Connector：</p><div><pre><span>1</span> <span>&lt;</span><span>Connector </span><span>port</span><span>=\"8080\"</span><span> protocol</span><span>=\"HTTP/1.1\"</span><span> connectionTimeout</span><span>=\"20000\"</span><span> redirectPort</span><span>=\"8443\"</span> <span>/&gt;</span><span>2</span> <span>&lt;</span><span>Connector </span><span>port</span><span>=\"8009\"</span><span> protocol</span><span>=\"AJP/1.3\"</span><span> redirectPort</span><span>=\"8443\"</span> <span>/&gt;</span></pre></div><p><span>（1）通过配置第1个Connector，客户端可以通过8080端口号使用http协议访问Tomcat。其中，protocol属性规定了请求的协议，port规定了请求的端口号，redirectPort表示当强制要求https而请求是http时，重定向至端口号为8443的Connector，connectionTimeout表示连接的超时时间。</span></p><p>在这个例子中，Tomcat监听HTTP请求，使用的是8080端口，而不是正式的80端口；实际上，在正式的生产环境中，Tomcat也常常监听8080端口，而不是80端口。这是因为在生产环境中，很少将Tomcat直接对外开放接收请求，而是在Tomcat和客户端之间加一层代理服务器(如nginx)，用于请求的转发、负载均衡、处理静态文件等；通过代理服务器访问Tomcat时，是在局域网中，因此一般仍使用8080端口。</p><p>（2）通过配置第2个Connector，客户端可以通过8009端口号使用AJP协议访问Tomcat。AJP协议负责和其他的HTTP服务器(如Apache)建立连接；在把Tomcat与其他HTTP服务器集成时，就需要用到这个连接器。之所以使用Tomcat和其他服务器集成，是因为Tomcat可以用作Servlet/JSP容器，但是对静态资源的处理速度较慢，不如Apache和IIS等HTTP服务器；因此常常将Tomcat与Apache等集成，前者作Servlet容器，后者处理静态资源，而AJP协议便负责Tomcat和Apache的连接。Tomcat与Apache等集成的原理如下图(<a href=\"http://blog.163.com/cmdbat@126/blog/static/170292123201311301419411/\" target=\"_blank\">图片来源</a>)：</p><p><img src=\"https://images2017.cnblogs.com/blog/1174710/201708/1174710-20170804092103272-2042915115.png\" alt=\"\"></p><p>关于Connector的更多内容，可以参考我的另一篇文章：<a href=\"http://www.cnblogs.com/kismetv/p/7806063.html\" target=\"_blank\">详解tomcat的连接数与线程池</a></p><h2><a name=\"title3-4\"></a>4、Engine</h2><p><strong>Engine</strong><strong>组件在Service</strong><strong>组件中有且只有一个；Engine</strong><strong>是Service</strong><strong>组件中的请求处理组件。</strong>Engine组件从一个或多个Connector中接收请求并处理，并将完成的响应返回给Connector，最终传递给客户端。</p><p>前面已经提到过，Engine、Host和Context都是容器，但它们不是平行的关系，而是父子关系：Engine包含Host，Host包含Context。</p><p>在第一部分的例子中，Engine的配置语句如下：</p><div><pre><span>1</span> <span>&lt;</span><span>Engine </span><span>name</span><span>=\"Catalina\"</span><span> defaultHost</span><span>=\"localhost\"</span><span>&gt;</span></pre></div><p>其中，name属性用于日志和错误信息，在整个Server中应该唯一。defaultHost属性指定了默认的host名称，当发往本机的请求指定的host名称不存在时，一律使用defaultHost指定的host进行处理；因此，defaultHost的值，必须与Engine中的一个Host组件的name属性值匹配。</p><h2><a name=\"title3-5\"></a>5、Host</h2><h3><a name=\"title3-5-1\"></a>（1）Engine与Host</h3><p>Host是Engine的子容器。Engine组件中可以内嵌1个或多个Host组件，<strong>每个</strong><strong>Host</strong><strong>组件代表Engine</strong><strong>中的一个虚拟主机</strong>。Host组件至少有一个，且其中一个的name必须与Engine组件的defaultHost属性相匹配。</p><h3><a name=\"title3-5-2\"></a>（2）Host的作用</h3><p>Host虚拟主机的作用，是运行多个Web应用（一个Context代表一个Web应用），并负责安装、展开、启动和结束每个Web应用。</p><p>Host组件代表的虚拟主机，对应了服务器中一个网络名实体(如”www.test.com”，或IP地址”116.25.25.25”)；为了使用户可以通过网络名连接Tomcat服务器，这个名字应该在DNS服务器上注册。</p><p>客户端通常使用主机名来标识它们希望连接的服务器；该主机名也会包含在HTTP请求头中。Tomcat从HTTP头中提取出主机名，寻找名称匹配的主机。如果没有匹配，请求将发送至默认主机。因此默认主机不需要是在DNS服务器中注册的网络名，因为任何与所有Host名称不匹配的请求，都会路由至默认主机。</p><h3><a name=\"title3-5-3\"></a>（3）Host的配置</h3><p>在第一部分的例子中，Host的配置如下：</p><div><pre><span>1</span> <span>&lt;</span><span>Host </span><span>name</span><span>=\"localhost\"</span><span> appBase</span><span>=\"webapps\"</span><span> unpackWARs</span><span>=\"true\"</span><span> autoDeploy</span><span>=\"true\"</span><span>&gt;</span></pre></div><p>下面对其中配置的属性进行说明：</p><p>name属性指定虚拟主机的主机名，一个Engine中有且仅有一个Host组件的name属性与Engine组件的defaultHost属性相匹配；一般情况下，主机名需要是在DNS服务器中注册的网络名，但是Engine指定的defaultHost不需要，原因在前面已经说明。</p><p>unpackWARs指定了是否将代表Web应用的WAR文件解压；如果为true，通过解压后的文件结构运行该Web应用，如果为false，直接使用WAR文件运行Web应用。</p><p>Host的autoDeploy和appBase属性，与Host内Web应用的自动部署有关；此外，本例中没有出现的xmlBase和deployOnStartup属性，也与Web应用的自动部署有关；将在下一节(Context)中介绍。</p><h2><a name=\"title3-6\"></a>6、Context</h2><h3><a name=\"title3-6-1\"></a>（1）Context的作用</h3><p><strong>Context</strong><strong>元素代表在特定虚拟主机上运行的一个Web</strong><strong>应用。</strong>在后文中，提到Context、应用或Web应用，它们指代的都是Web应用。每个Web应用基于WAR文件，或WAR文件解压后对应的目录（这里称为应用目录）。</p><p>Context是Host的子容器，每个Host中可以定义任意多的Context元素。</p><p>在第一部分的例子中，可以看到server.xml配置文件中并没有出现Context元素的配置。这是因为，Tomcat开启了自动部署，Web应用没有在server.xml中配置静态部署，而是由Tomcat通过特定的规则自动部署。下面介绍一下Tomcat自动部署Web应用的机制。</p><h3><a name=\"title3-6-2\"></a>（2）Web应用自动部署</h3><p><strong>Host</strong><strong>的配置</strong></p><p>要开启Web应用的自动部署，需要配置所在的虚拟主机；配置的方式就是前面提到的Host元素的deployOnStartup和autoDeploy属性。如果deployOnStartup和autoDeploy设置为true，则tomcat启动自动部署：当检测到新的Web应用或Web应用的更新时，会触发应用的部署(或重新部署)。二者的主要区别在于，deployOnStartup为true时，Tomcat在启动时检查Web应用，且检测到的所有Web应用视作新应用；autoDeploy为true时，Tomcat在运行时定期检查新的Web应用或Web应用的更新。除此之外，二者的处理相似。</p><p>通过配置deployOnStartup和autoDeploy可以开启虚拟主机自动部署Web应用；实际上，自动部署依赖于检查是否有新的或更改过的Web应用，而Host元素的appBase和xmlBase设置了检查Web应用更新的目录。</p><p>其中，appBase属性指定Web应用所在的目录，默认值是webapps，这是一个相对路径，代表Tomcat根目录下webapps文件夹。</p><p>xmlBase属性指定Web应用的XML配置文件所在的目录，默认值为conf/&lt;engine_name&gt;/&lt;host_name&gt;，例如第一部分的例子中，主机localhost的xmlBase的默认值是$TOMCAT_HOME/conf/Catalina/localhost。</p><p><strong>检查Web</strong><strong>应用更新 </strong></p><p>一个Web应用可能包括以下文件：XML配置文件，WAR包，以及一个应用目录(该目录包含Web应用的文件结构)；其中XML配置文件位于xmlBase指定的目录，WAR包和应用目录位于appBase指定的目录。</p><p>Tomcat按照如下的顺序进行扫描，来检查应用更新：</p><p>A、扫描虚拟主机指定的xmlBase下的XML配置文件</p><p>B、扫描虚拟主机指定的appBase下的WAR文件</p><p>C、扫描虚拟主机指定的appBase下的应用目录</p><p><strong>&lt;Context&gt;</strong><strong>元素的配置</strong></p><p>Context元素最重要的属性是docBase和path，此外reloadable属性也比较常用。</p><p>docBase指定了该Web应用使用的WAR包路径，或应用目录。需要注意的是，<strong>在自动部署场景下</strong><strong>，docBase</strong><strong>不在appBase</strong><strong>目录中，才需要指定；如果docBase</strong><strong>指定的WAR</strong><strong>包或应用目录就在appBase</strong><strong>中，则不需要指定</strong>，因为Tomcat会自动扫描appBase中的WAR包和应用目录，指定了反而会造成问题。</p><p>path指定了访问该Web应用的上下文路径，当请求到来时，Tomcat根据Web应用的 path属性与URI的匹配程度来选择Web应用处理相应请求。例如，Web应用app1的path属性是”/app1”，Web应用app2的path属性是”/app2”，那么请求/app1/index.html会交由app1来处理；而请求/app2/index.html会交由app2来处理。如果一个Context元素的path属性为””，那么这个Context是虚拟主机的默认Web应用；当请求的uri与所有的path都不匹配时，使用该默认Web应用来处理。</p><p>但是，需要注意的是，<strong>在自动部署场景下</strong><strong>，不能指定path</strong><strong>属性，path</strong><strong>属性由配置文件的文件名、WAR</strong><strong>文件的文件名或应用目录的名称自动推导出来</strong>。如扫描Web应用时，发现了xmlBase目录下的app1.xml，或appBase目录下的app1.WAR或app1应用目录，则该Web应用的path属性是”app1”。如果名称不是app1而是ROOT，则该Web应用是虚拟主机默认的Web应用，此时path属性推导为””。</p><p>reloadable属性指示tomcat是否在运行时监控在WEB-INF/classes和WEB-INF/lib目录下class文件的改动。如果值为true，那么当class文件改动时，会触发Web应用的重新加载。在开发环境下，reloadable设置为true便于调试；但是在生产环境中设置为true会给服务器带来性能压力，因此reloadable参数的默认值为false。</p><p>下面来看自动部署时，xmlBase下的XML配置文件app1.xml的例子：</p><div><pre><span>1</span> <span>&lt;</span><span>Context </span><span>docBase</span><span>=\"D:\\Program Files\\app1.war\"</span><span> reloadable</span><span>=\"true\"</span><span>/&gt;</span></pre></div><p>在该例子中，docBase位于Host的appBase目录之外；path属性没有指定，而是根据app1.xml自动推导为”app1”；由于是在开发环境下，因此reloadable设置为true，便于开发调试。</p><p><strong>自动部署举例</strong></p><p>最典型的自动部署，就是当我们安装完Tomcat后，$TOMCAT_HOME/webapps目录下有如下文件夹：</p><p><img src=\"https://images2017.cnblogs.com/blog/1174710/201708/1174710-20170804124947444-1841183869.png\" alt=\"\"></p><p>当我们启动Tomcat后，可以使用http://localhost:8080/来访问Tomcat，其实访问的就是ROOT对应的Web应用；我们也可以通过http://localhost:8080/docs来访问docs应用，同理我们可以访问examples/host-manager/manager这几个Web应用。</p><h3><a name=\"title3-6-3\"></a>（3）server.xml中静态部署Web应用</h3><p><strong>除了自动部署，我们也可以在server.xml</strong><strong>中通过&lt;context&gt;</strong><strong>元素静态部署Web</strong><strong>应用。</strong>静态部署与自动部署是可以共存的。在实际应用中，并不推荐使用静态部署，因为server.xml 是不可动态重加载的资源，服务器一旦启动了以后，要修改这个文件，就得重启服务器才能重新加载。而自动部署可以在Tomcat运行时通过定期的扫描来实现，不需要重启服务器。</p><p>server.xml中使用Context元素配置Web应用，Context元素应该位于Host元素中。举例如下：</p><div><pre><span>1</span> <span>&lt;</span><span>Context </span><span>path</span><span>=\"/\"</span><span> docBase</span><span>=\"D:\\Program Files \\app1.war\"</span><span> reloadable</span><span>=\"true\"</span><span>/&gt;</span></pre></div><p>docBase：静态部署时，docBase可以在appBase目录下，也可以不在；本例中，docBase不在appBase目录下。</p><p>path：静态部署时，可以显式指定path属性，但是仍然受到了严格的限制：只有当自动部署完全关闭(deployOnStartup和autoDeploy都为false)或docBase不在appBase中时，才可以设置path属性。在本例中，docBase不在appBase中，因此path属性可以设置。</p><p>reloadable属性的用法与自动部署时相同。</p><h1><a name=\"title4\"></a>四、核心组件的关联</h1><h2><a name=\"title4-1\"></a>1、整体关系</h2><p>核心组件之间的整体关系，在上一部分有所介绍，这里总结一下：</p><p>Server元素在最顶层，代表整个Tomcat容器；一个Server元素中可以有一个或多个Service元素。</p><p>Service在Connector和Engine外面包了一层，把它们组装在一起，对外提供服务。一个Service可以包含多个Connector，但是只能包含一个Engine；Connector接收请求，Engine处理请求。</p><p>Engine、Host和Context都是容器，且 Engine包含Host，Host包含Context。每个Host组件代表Engine中的一个虚拟主机；每个Context组件代表在特定Host上运行的一个Web应用。</p><h2><a name=\"title4-2\"></a>2、如何确定请求由谁处理？</h2><p>当请求被发送到Tomcat所在的主机时，如何确定最终哪个Web应用来处理该请求呢？</p><h3>（1）根据协议和端口号选定Service和Engine</h3><p>Service中的Connector组件可以接收特定端口的请求，因此，当Tomcat启动时，Service组件就会监听特定的端口。在第一部分的例子中，Catalina这个Service监听了8080端口（基于HTTP协议）和8009端口（基于AJP协议）。当请求进来时，Tomcat便可以根据协议和端口号选定处理请求的Service；Service一旦选定，Engine也就确定。</p><p>通过在Server中配置多个Service，可以实现通过不同的端口号来访问同一台机器上部署的不同应用。</p><h3>（2）根据域名或IP地址选定Host</h3><p>Service确定后，Tomcat在Service中寻找名称与域名/IP地址匹配的Host处理该请求。如果没有找到，则使用Engine中指定的defaultHost来处理该请求。在第一部分的例子中，由于只有一个Host（name属性为localhost），因此该Service/Engine的所有请求都交给该Host处理。</p><h3>（3）根据URI选定Context/Web应用</h3><p>这一点在Context一节有详细的说明：Tomcat根据应用的 path属性与URI的匹配程度来选择Web应用处理相应请求，这里不再赘述。</p><h3>（4）举例</h3><p>以请求http://localhost:8080/app1/index.html为例，首先通过协议和端口号（http和8080）选定Service；然后通过主机名（localhost）选定Host；然后通过uri（/app1/index.html）选定Web应用。</p><h2><a name=\"title4-3\"></a>3、如何配置多个服务</h2><p>通过在Server中配置多个Service服务，可以实现通过不同的端口号来访问同一台机器上部署的不同Web应用。</p><p>在server.xml中配置多服务的方法非常简单，分为以下几步：</p><p>（1）复制&lt;Service&gt;元素，放在当前&lt;Service&gt;后面。</p><p>（2）修改端口号：根据需要监听的端口号修改&lt;Connector&gt;元素的port属性；必须确保该端口没有被其他进程占用，否则Tomcat启动时会报错，而无法通过该端口访问Web应用。</p><p>以Win7为例，可以用如下方法找出某个端口是否被其他进程占用：netstat -aon|findstr \"8081\"发现8081端口被PID为2064的进程占用，tasklist |findstr \"2064\"发现该进程为FrameworkService.exe(这是McAfee杀毒软件的进程)。</p><p><img src=\"https://images2017.cnblogs.com/blog/1174710/201708/1174710-20170804125116819-1343607672.png\" alt=\"\"></p><p>（3）修改Service和Engine的name属性</p><p>（4）修改Host的appBase属性（如webapps2）</p><p>（5）Web应用仍然使用自动部署</p><p>（6）将要部署的Web应用(WAR包或应用目录)拷贝到新的appBase下。</p><p>以第一部分的server.xml为例，多个Service的配置如下：</p><div><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div><pre><span> 1</span> <span>&lt;?</span><span>xml version=\'1.0\' encoding=\'utf-8\'</span><span>?&gt;</span><span> 2</span> <span>&lt;</span><span>Server </span><span>port</span><span>=\"8005\"</span><span> shutdown</span><span>=\"SHUTDOWN\"</span><span>&gt;</span><span> 3</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.startup.VersionLoggerListener\"</span> <span>/&gt;</span><span> 4</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.AprLifecycleListener\"</span><span> SSLEngine</span><span>=\"on\"</span> <span>/&gt;</span><span> 5</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.JasperListener\"</span> <span>/&gt;</span><span> 6</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.JreMemoryLeakPreventionListener\"</span> <span>/&gt;</span><span> 7</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\"</span> <span>/&gt;</span><span> 8</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.ThreadLocalLeakPreventionListener\"</span> <span>/&gt;</span><span> 9</span> <span>10</span>   <span>&lt;</span><span>GlobalNamingResources</span><span>&gt;</span><span>11</span>     <span>&lt;</span><span>Resource </span><span>name</span><span>=\"UserDatabase\"</span><span> auth</span><span>=\"Container\"</span><span> type</span><span>=\"org.apache.catalina.UserDatabase\"</span><span> description</span><span>=\"User database that can be updated and saved\"</span><span> factory</span><span>=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"</span><span> pathname</span><span>=\"conf/tomcat-users.xml\"</span> <span>/&gt;</span><span>12</span>   <span>&lt;/</span><span>GlobalNamingResources</span><span>&gt;</span><span>13</span> <span>14</span>   <span>&lt;</span><span>Service </span><span>name</span><span>=\"Catalina\"</span><span>&gt;</span><span>15</span>     <span>&lt;</span><span>Connector </span><span>port</span><span>=\"8080\"</span><span> protocol</span><span>=\"HTTP/1.1\"</span><span> connectionTimeout</span><span>=\"20000\"</span><span> redirectPort</span><span>=\"8443\"</span> <span>/&gt;</span><span>16</span>     <span>&lt;</span><span>Connector </span><span>port</span><span>=\"8009\"</span><span> protocol</span><span>=\"AJP/1.3\"</span><span> redirectPort</span><span>=\"8443\"</span> <span>/&gt;</span><span>17</span>     <span>&lt;</span><span>Engine </span><span>name</span><span>=\"Catalina\"</span><span> defaultHost</span><span>=\"localhost\"</span><span>&gt;</span><span>18</span>       <span>&lt;</span><span>Realm </span><span>className</span><span>=\"org.apache.catalina.realm.LockOutRealm\"</span><span>&gt;</span><span>19</span>         <span>&lt;</span><span>Realm </span><span>className</span><span>=\"org.apache.catalina.realm.UserDatabaseRealm\"</span><span>20</span> <span>               resourceName</span><span>=\"UserDatabase\"</span><span>/&gt;</span><span>21</span>       <span>&lt;/</span><span>Realm</span><span>&gt;</span><span>22</span> <span>23</span>       <span>&lt;</span><span>Host </span><span>name</span><span>=\"localhost\"</span><span>  appBase</span><span>=\"/opt/project/webapps\"</span><span> unpackWARs</span><span>=\"true\"</span><span> autoDeploy</span><span>=\"true\"</span><span>&gt;</span><span>24</span>         <span>&lt;</span><span>Valve </span><span>className</span><span>=\"org.apache.catalina.valves.AccessLogValve\"</span><span> directory</span><span>=\"logs\"</span><span> prefix</span><span>=\"localhost_access_log.\"</span><span> suffix</span><span>=\".txt\"</span><span> pattern</span><span>=\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\"</span> <span>/&gt;</span><span>25</span>       <span>&lt;/</span><span>Host</span><span>&gt;</span><span>26</span>     <span>&lt;/</span><span>Engine</span><span>&gt;</span><span>27</span>   <span>&lt;/</span><span>Service</span><span>&gt;</span><span>28</span> <span>29</span>   <span>&lt;</span><span>Service </span><span>name</span><span>=\"Catalina2\"</span><span>&gt;</span><span>30</span>     <span>&lt;</span><span>Connector </span><span>port</span><span>=\"8084\"</span><span> protocol</span><span>=\"HTTP/1.1\"</span><span> connectionTimeout</span><span>=\"20000\"</span><span> redirectPort</span><span>=\"8443\"</span> <span>/&gt;</span><span>31</span>     <span>&lt;</span><span>Connector </span><span>port</span><span>=\"8010\"</span><span> protocol</span><span>=\"AJP/1.3\"</span><span> redirectPort</span><span>=\"8443\"</span> <span>/&gt;</span><span>32</span>     <span>&lt;</span><span>Engine </span><span>name</span><span>=\"Catalina2\"</span><span> defaultHost</span><span>=\"localhost\"</span><span>&gt;</span><span>33</span>       <span>&lt;</span><span>Realm </span><span>className</span><span>=\"org.apache.catalina.realm.LockOutRealm\"</span><span>&gt;</span><span>34</span>         <span>&lt;</span><span>Realm </span><span>className</span><span>=\"org.apache.catalina.realm.UserDatabaseRealm\"</span><span>35</span> <span>               resourceName</span><span>=\"UserDatabase\"</span><span>/&gt;</span><span>36</span>       <span>&lt;/</span><span>Realm</span><span>&gt;</span><span>37</span> <span>38</span>       <span>&lt;</span><span>Host </span><span>name</span><span>=\"localhost\"</span><span>  appBase</span><span>=\"/opt/project/webapps2\"</span><span> unpackWARs</span><span>=\"true\"</span><span> autoDeploy</span><span>=\"true\"</span><span>&gt;</span><span>39</span>         <span>&lt;</span><span>Valve </span><span>className</span><span>=\"org.apache.catalina.valves.AccessLogValve\"</span><span> directory</span><span>=\"logs\"</span><span> prefix</span><span>=\"localhost_access_log.\"</span><span> suffix</span><span>=\".txt\"</span><span> pattern</span><span>=\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\"</span> <span>/&gt;</span><span>40</span>       <span>&lt;/</span><span>Host</span><span>&gt;</span><span>41</span>     <span>&lt;/</span><span>Engine</span><span>&gt;</span><span>42</span>   <span>&lt;/</span><span>Service</span><span>&gt;</span><span>43</span> <span>&lt;/</span><span>Server</span><span>&gt;</span></pre><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div></div><p>再将原webapps下的docs目录拷贝到webapps2中，则通过如下两个接口都可以访问docs应用：</p><p>http://localhost:8080/docs/</p><p>http://localhost:8084/docs/</p><h1><a name=\"title5\"></a>五、其他组件</h1><p>除核心组件外，server.xml中还可以配置很多其他组件。下面只介绍第一部分例子中出现的组件，如果要了解更多内容，可以查看<a href=\"http://tomcat.apache.org/tomcat-8.0-doc/config/index.html\" target=\"_blank\">Tomcat官方文档</a>。</p><h2><a name=\"title5-1\"></a>1、Listener</h2><div><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div><pre><span>1</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.startup.VersionLoggerListener\"</span> <span>/&gt;</span><span>2</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.AprLifecycleListener\"</span><span> SSLEngine</span><span>=\"on\"</span> <span>/&gt;</span><span>3</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.JasperListener\"</span> <span>/&gt;</span><span>4</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.JreMemoryLeakPreventionListener\"</span> <span>/&gt;</span><span>5</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener\"</span> <span>/&gt;</span><span>6</span>   <span>&lt;</span><span>Listener </span><span>className</span><span>=\"org.apache.catalina.core.ThreadLocalLeakPreventionListener\"</span> <span>/&gt;</span></pre><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div></div><p>Listener(即监听器)定义的组件，可以在特定事件发生时执行特定的操作；被监听的事件通常是Tomcat的启动和停止。</p><p>监听器可以在Server、Engine、Host或Context中，本例中的监听器都是在Server中。实际上，本例中定义的6个监听器，都只能存在于Server组件中。监听器不允许内嵌其他组件。</p><p>监听器需要配置的最重要的属性是className，该属性规定了监听器的具体实现类，该类必须实现了org.apache.catalina.LifecycleListener接口。</p><p>下面依次介绍例子中配置的监听器：</p><ul><li>VersionLoggerListener：当Tomcat启动时，该监听器记录Tomcat、Java和操作系统的信息。该监听器必须是配置的第一个监听器。</li><li>AprLifecycleListener：Tomcat启动时，检查APR库，如果存在则加载。APR，即Apache Portable Runtime，是Apache可移植运行库，可以实现高可扩展性、高性能，以及与本地服务器技术更好的集成。</li><li>JasperListener：在Web应用启动之前初始化Jasper，Jasper是JSP引擎，把JVM不认识的JSP文件解析成java文件，然后编译成class文件供JVM使用。</li><li>JreMemoryLeakPreventionListener：与类加载器导致的内存泄露有关。</li><li>GlobalResourcesLifecycleListener：通过该监听器，初始化&lt; GlobalNamingResources&gt;标签中定义的全局JNDI资源；如果没有该监听器，任何全局资源都不能使用。&lt; GlobalNamingResources&gt;将在后文介绍。</li><li>ThreadLocalLeakPreventionListener：当Web应用因thread-local导致的内存泄露而要停止时，该监听器会触发线程池中线程的更新。当线程执行完任务被收回线程池时，活跃线程会一个一个的更新。只有当Web应用(即Context元素)的renewThreadsWhenStoppingContext属性设置为true时，该监听器才有效。</li></ul><h2><a name=\"title5-2\"></a>2、GlobalNamingResources与Realm</h2><p>第一部分的例子中，Engine组件下定义了Realm组件：</p><div><pre><span>1</span>       <span>&lt;</span><span>Realm </span><span>className</span><span>=\"org.apache.catalina.realm.LockOutRealm\"</span><span>&gt;</span><span>2</span>         <span>&lt;</span><span>Realm </span><span>className</span><span>=\"org.apache.catalina.realm.UserDatabaseRealm\"</span><span>3</span> <span>               resourceName</span><span>=\"UserDatabase\"</span><span>/&gt;</span><span>4</span>       <span>&lt;/</span><span>Realm</span><span>&gt;</span></pre></div><p>Realm，可以把它理解成“域”；<strong>Realm</strong><strong>提供了一种用户密码与web</strong><strong>应用的映射关系，从而达到角色安全管理的作用。</strong>在本例中，Realm的配置使用name为UserDatabase的资源实现。而该资源在Server元素中使用GlobalNamingResources配置：</p><div><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div><pre><span>1</span>   <span>&lt;</span><span>GlobalNamingResources</span><span>&gt;</span><span>2</span>     <span>&lt;</span><span>Resource </span><span>name</span><span>=\"UserDatabase\"</span><span> auth</span><span>=\"Container\"</span><span> type</span><span>=\"org.apache.catalina.UserDatabase\"</span><span> description</span><span>=\"User database that can be updated and saved\"</span><span> factory</span><span>=\"org.apache.catalina.users.MemoryUserDatabaseFactory\"</span><span> pathname</span><span>=\"conf/tomcat-users.xml\"</span> <span>/&gt;</span><span>3</span>   <span>&lt;/</span><span>GlobalNamingResources</span><span>&gt;</span></pre><div><span><a href=\"javascript:void(0);\" onclick=\"copyCnblogsCode(this)\" title=\"复制代码\"><img src=\"https://common.cnblogs.com/images/copycode.gif\" alt=\"复制代码\"></a></span></div></div><p>GlobalNamingResources元素定义了全局资源，通过配置可以看出，该配置是通过读取$TOMCAT_HOME/ conf/tomcat-users.xml实现的。</p><p>关于Tomcat域管理的更多内容，可以参考：<a title=\"Realm域管理\" href=\"http://www.cnblogs.com/xing901022/p/4552843.html\" target=\"_blank\">Realm域管理</a></p><h2><a name=\"title5-3\"></a>3、Valve</h2><p>在第一部分的例子中，Host元素内定义了Valve组件：</p><div><pre><span>1</span> <span>&lt;</span><span>Valve </span><span>className</span><span>=\"org.apache.catalina.valves.AccessLogValve\"</span><span> directory</span><span>=\"logs\"</span><span> prefix</span><span>=\"localhost_access_log.\"</span><span> suffix</span><span>=\".txt\"</span><span> pattern</span><span>=\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\"</span> <span>/&gt;</span></pre></div><p>单词Valve的意思是“阀门”，在Tomcat中代表了请求处理流水线上的一个组件；Valve可以与Tomcat的容器(Engine、Host或Context)关联。</p><p>不同的Valve有不同的特性，下面介绍一下本例中出现的AccessLogValve。</p><p>AccessLogValve的作用是通过日志记录其所在的容器中处理的所有请求，在本例中，Valve放在Host下，便可以记录该Host处理的所有请求。<strong>AccessLogValve记录的日志就是访问日志，每天的请求会写到一个日志文件里。</strong>AccessLogValve可以与Engine、Host或Context关联；在本例中，只有一个Engine，Engine下只有一个Host，Host下只有一个Context，因此AccessLogValve放在三个容器下的作用其实是类似的。</p><p>本例的AccessLogValve属性的配置，使用的是默认的配置；下面介绍AccessLogValve中各个属性的作用：</p><p>（1）className：规定了Valve的类型，是最重要的属性；本例中，通过该属性规定了这是一个AccessLogValve。</p><p>（2）directory：指定日志存储的位置，本例中，日志存储在$TOMCAT_HOME/logs目录下。</p><p>（3）prefix：指定了日志文件的前缀。</p><p>（4）suffix：指定了日志文件的后缀。通过directory、prefix和suffix的配置，在$TOMCAT_HOME/logs目录下，可以看到如下所示的日志文件。</p><p><img src=\"https://images2017.cnblogs.com/blog/1174710/201708/1174710-20170804130208678-1273060779.png\" alt=\"\"></p><p>（5）pattern：指定记录日志的格式，本例中各项的含义如下：</p><ul><li>%h：远程主机名或IP地址；如果有nginx等反向代理服务器进行请求分发，该主机名/IP地址代表的是nginx，否则代表的是客户端。后面远程的含义与之类似，不再解释。</li><li>%l：远程逻辑用户名，一律是”-”，可以忽略。</li><li>%u：授权的远程用户名，如果没有，则是”-”。</li><li>%t：访问的时间。</li><li>%r：请求的第一行，即请求方法(get/post等)、uri、及协议。</li><li>%s：响应状态，200,404等等。</li><li>%b：响应的数据量，不包括请求头，如果为0，则是””-。</li></ul><p>例如，下面是访问日志中的一条记录</p><p><img src=\"https://img2018.cnblogs.com/blog/1174710/201903/1174710-20190307235328851-496966321.png\" alt=\"\"></p><p>pattern的配置中，除了上述各项，还有一个非常常用的选项是%D，含义是请求处理的时间(单位是毫秒)，对于统计分析请求的处理速度帮助很大。</p><p><strong>开发人员可以充分利用访问日志，来分析问题、优化应用。</strong>例如，分析访问日志中各个接口被访问的比例，不仅可以为需求和运营人员提供数据支持，还可以使自己的优化有的放矢；分析访问日志中各个请求的响应状态码，可以知道服务器请求的成功率，并找出有问题的请求；分析访问日志中各个请求的响应时间，可以找出慢请求，并根据需要进行响应时间的优化。</p>', '2019-11-27 13:45:21', '2019-11-27 13:45:21', 'Java', 0, 10);

-- ----------------------------
-- Table structure for category
-- ----------------------------
DROP TABLE IF EXISTS `category`;
CREATE TABLE `category`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `num` int(11) NULL DEFAULT 0,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 8 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of category
-- ----------------------------
INSERT INTO `category` VALUES (1, 'C++', 2);
INSERT INTO `category` VALUES (2, 'Selenium学习', 1);
INSERT INTO `category` VALUES (3, ' Experiment', 1);
INSERT INTO `category` VALUES (4, '网络知识', 1);
INSERT INTO `category` VALUES (5, 'Acm', 7);
INSERT INTO `category` VALUES (6, 'Others', 3);
INSERT INTO `category` VALUES (8, 'Python', 3);
INSERT INTO `category` VALUES (9, 'Share', 3);
INSERT INTO `category` VALUES (10, 'Java', 3);
INSERT INTO `category` VALUES (11, '前端', 1);

-- ----------------------------
-- Table structure for reply
-- ----------------------------
DROP TABLE IF EXISTS `reply`;
CREATE TABLE `reply`  (
  `id` int(11) NOT NULL,
  `comment` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `queue_id` int(11) NULL DEFAULT 0,
  `aid` int(11) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;

SET FOREIGN_KEY_CHECKS = 1;
